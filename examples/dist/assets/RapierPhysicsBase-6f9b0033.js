let ue,kc=(async()=>{const we="/assets/rapier_wasm2d_bg-b5dc53dc.wasm",_e=async(n={},t)=>{let r;if(t.startsWith("data:")){const e=t.replace(/^data:.*?base64,/,"");let s;if(typeof Buffer=="function"&&typeof Buffer.from=="function")s=Buffer.from(e,"base64");else if(typeof atob=="function"){const a=atob(e);s=new Uint8Array(a.length);for(let o=0;o<a.length;o++)s[o]=a.charCodeAt(o)}else throw new Error("Cannot decode base64-encoded data URL");r=await WebAssembly.instantiate(s,n)}else{const e=await fetch(t),s=e.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&s.startsWith("application/wasm"))r=await WebAssembly.instantiateStreaming(e,n);else{const a=await e.arrayBuffer();r=await WebAssembly.instantiate(a,n)}}return r.instance.exports},g=new Array(32).fill(void 0);g.push(void 0,null,!0,!1);function R(n){return g[n]}let ot=g.length;function fe(n){n<36||(g[n]=ot,ot=n)}function Rt(n){const t=R(n);return fe(n),t}function j(n){ot===g.length&&g.push(g.length+1);const t=ot;return ot=g[t],g[t]=n,t}function f(n){return n==null}let Vt=new Float64Array;function Ct(){return Vt.byteLength===0&&(Vt=new Float64Array(it.buffer)),Vt}let qt=new Int32Array;function I(){return qt.byteLength===0&&(qt=new Int32Array(it.buffer)),qt}const me=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let Tr=new me("utf-8",{ignoreBOM:!0,fatal:!0});Tr.decode();let Ut=new Uint8Array;function be(){return Ut.byteLength===0&&(Ut=new Uint8Array(it.buffer)),Ut}function Pr(n,t){return Tr.decode(be().subarray(n,n+t))}function ye(){try{const r=v(-16);We(r);var n=I()[r/4+0],t=I()[r/4+1];return Pr(n,t)}finally{v(16),Gt(n,t)}}function l(n,t){if(!(n instanceof t))throw new Error(`expected instance of ${t.name}`);return n.ptr}let Xt=new Float32Array;function X(){return Xt.byteLength===0&&(Xt=new Float32Array(it.buffer)),Xt}let E=32;function x(n){if(E==1)throw new Error("out of js stack");return g[--E]=n,E}function Mr(n,t){return X().subarray(n/4,n/4+t)}let Kt=new Uint32Array;function jr(){return Kt.byteLength===0&&(Kt=new Uint32Array(it.buffer)),Kt}function ge(n,t){return jr().subarray(n/4,n/4+t)}let k=0;function Q(n,t){const r=t(n.length*4);return X().set(n,r/4),k=n.length,r}function Dr(n,t){const r=t(n.length*4);return jr().set(n,r/4),k=n.length,r}function Yt(n,t){try{return n.apply(this,t)}catch(r){xc(j(r))}}const At=Object.freeze({X:0,0:"X",Y:1,1:"Y",AngX:2,2:"AngX"});class K{static __wrap(t){const r=Object.create(K.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Yn(t)}constructor(){const t=Qn();return K.__wrap(t)}}class et{static __wrap(t){const r=Object.create(et.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();vi(t)}constructor(){const t=Ri();return et.__wrap(t)}}class lt{static __wrap(t){const r=Object.create(lt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();wi(t)}constructor(){const t=_i();return lt.__wrap(t)}handle(){return fi(this.ptr)}translationApplied(){const t=ut(this.ptr);return d.__wrap(t)}translationRemaining(){const t=Hr(this.ptr);return d.__wrap(t)}toi(){return mi(this.ptr)}worldWitness1(){const t=bi(this.ptr);return d.__wrap(t)}worldWitness2(){const t=yi(this.ptr);return d.__wrap(t)}worldNormal1(){const t=gi(this.ptr);return d.__wrap(t)}worldNormal2(){const t=Si(this.ptr);return d.__wrap(t)}}class T{static __wrap(t){const r=Object.create(T.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();ao(t)}coTranslation(t){const r=$n(this.ptr,t);return d.__wrap(r)}coRotation(t){const r=Zn(this.ptr,t);return S.__wrap(r)}coSetTranslation(t,r,e){ta(this.ptr,t,r,e)}coSetTranslationWrtParent(t,r,e){ra(this.ptr,t,r,e)}coSetRotation(t,r){ea(this.ptr,t,r)}coSetRotationWrtParent(t,r){ia(this.ptr,t,r)}coIsSensor(t){return sa(this.ptr,t)!==0}coShapeType(t){return na(this.ptr,t)>>>0}coHalfspaceNormal(t){const r=aa(this.ptr,t);return r===0?void 0:d.__wrap(r)}coHalfExtents(t){const r=oa(this.ptr,t);return r===0?void 0:d.__wrap(r)}coSetHalfExtents(t,r){l(r,d),la(this.ptr,t,r.ptr)}coRadius(t){try{const s=v(-16);ca(s,this.ptr,t);var r=I()[s/4+0],e=X()[s/4+1];return r===0?void 0:e}finally{v(16)}}coSetRadius(t,r){ha(this.ptr,t,r)}coHalfHeight(t){try{const s=v(-16);da(s,this.ptr,t);var r=I()[s/4+0],e=X()[s/4+1];return r===0?void 0:e}finally{v(16)}}coSetHalfHeight(t,r){pa(this.ptr,t,r)}coRoundRadius(t){try{const s=v(-16);ua(s,this.ptr,t);var r=I()[s/4+0],e=X()[s/4+1];return r===0?void 0:e}finally{v(16)}}coSetRoundRadius(t,r){wa(this.ptr,t,r)}coVertices(t){try{const s=v(-16);_a(s,this.ptr,t);var r=I()[s/4+0],e=I()[s/4+1];let a;return r!==0&&(a=Mr(r,e).slice(),Gt(r,e*4)),a}finally{v(16)}}coIndices(t){try{const s=v(-16);fa(s,this.ptr,t);var r=I()[s/4+0],e=I()[s/4+1];let a;return r!==0&&(a=ge(r,e).slice(),Gt(r,e*4)),a}finally{v(16)}}coHeightfieldHeights(t){try{const s=v(-16);ma(s,this.ptr,t);var r=I()[s/4+0],e=I()[s/4+1];let a;return r!==0&&(a=Mr(r,e).slice(),Gt(r,e*4)),a}finally{v(16)}}coHeightfieldScale(t){const r=ba(this.ptr,t);return r===0?void 0:d.__wrap(r)}coParent(t){try{const s=v(-16);ya(s,this.ptr,t);var r=I()[s/4+0],e=Ct()[s/8+1];return r===0?void 0:e}finally{v(16)}}coSetEnabled(t,r){ga(this.ptr,t,r)}coIsEnabled(t){return Sa(this.ptr,t)!==0}coFriction(t){return va(this.ptr,t)}coRestitution(t){return Ra(this.ptr,t)}coDensity(t){return Ca(this.ptr,t)}coMass(t){return Aa(this.ptr,t)}coVolume(t){return Ea(this.ptr,t)}coCollisionGroups(t){return Ia(this.ptr,t)>>>0}coSolverGroups(t){return xa(this.ptr,t)>>>0}coActiveHooks(t){return Ta(this.ptr,t)>>>0}coActiveCollisionTypes(t){return Pa(this.ptr,t)}coActiveEvents(t){return Ma(this.ptr,t)>>>0}coContactForceEventThreshold(t){return ja(this.ptr,t)}coContainsPoint(t,r){return l(r,d),Da(this.ptr,t,r.ptr)!==0}coCastShape(t,r,e,s,a,o,c,p){l(r,d),l(e,b),l(s,d),l(a,S),l(o,d);const u=Ha(this.ptr,t,r.ptr,e.ptr,s.ptr,a.ptr,o.ptr,c,p);return u===0?void 0:Ft.__wrap(u)}coCastCollider(t,r,e,s,a,o){l(r,d),l(s,d);const c=Fa(this.ptr,t,r.ptr,e,s.ptr,a,o);return c===0?void 0:Ht.__wrap(c)}coIntersectsShape(t,r,e,s){return l(r,b),l(e,d),l(s,S),ka(this.ptr,t,r.ptr,e.ptr,s.ptr)!==0}coContactShape(t,r,e,s,a){l(r,b),l(e,d),l(s,S);const o=Ba(this.ptr,t,r.ptr,e.ptr,s.ptr,a);return o===0?void 0:dt.__wrap(o)}coContactCollider(t,r,e){const s=Ga(this.ptr,t,r,e);return s===0?void 0:dt.__wrap(s)}coProjectPoint(t,r,e){l(r,d);const s=za(this.ptr,t,r.ptr,e);return Pt.__wrap(s)}coIntersectsRay(t,r,e,s){return l(r,d),l(e,d),Na(this.ptr,t,r.ptr,e.ptr,s)!==0}coCastRay(t,r,e,s,a){return l(r,d),l(e,d),La(this.ptr,t,r.ptr,e.ptr,s,a)}coCastRayAndGetNormal(t,r,e,s,a){l(r,d),l(e,d);const o=Oa(this.ptr,t,r.ptr,e.ptr,s,a);return o===0?void 0:jt.__wrap(o)}coSetSensor(t,r){Wa(this.ptr,t,r)}coSetRestitution(t,r){Ja(this.ptr,t,r)}coSetFriction(t,r){Va(this.ptr,t,r)}coFrictionCombineRule(t){return qa(this.ptr,t)>>>0}coSetFrictionCombineRule(t,r){Ua(this.ptr,t,r)}coRestitutionCombineRule(t){return Xa(this.ptr,t)>>>0}coSetRestitutionCombineRule(t,r){Ka(this.ptr,t,r)}coSetCollisionGroups(t,r){Ya(this.ptr,t,r)}coSetSolverGroups(t,r){Qa(this.ptr,t,r)}coSetActiveHooks(t,r){$a(this.ptr,t,r)}coSetActiveEvents(t,r){Za(this.ptr,t,r)}coSetActiveCollisionTypes(t,r){to(this.ptr,t,r)}coSetShape(t,r){l(r,b),ro(this.ptr,t,r.ptr)}coSetContactForceEventThreshold(t,r){eo(this.ptr,t,r)}coSetDensity(t,r){io(this.ptr,t,r)}coSetMass(t,r){so(this.ptr,t,r)}coSetMassProperties(t,r,e,s){l(e,d),no(this.ptr,t,r,e.ptr,s)}constructor(){const t=oo();return T.__wrap(t)}len(){return lo(this.ptr)>>>0}contains(t){return Gr(this.ptr,t)!==0}createCollider(t,r,e,s,a,o,c,p,u,w,_,m,y,P,G,q,U,rt,Er,Ir,jc,Dc,pe){try{const xr=v(-16);l(r,b),l(e,d),l(s,S),l(c,d),l(pe,M),co(xr,this.ptr,t,r.ptr,e.ptr,s.ptr,a,o,c.ptr,p,u,w,_,m,y,P,G,q,U,rt,Er,Ir,jc,Dc,pe.ptr);var Hc=I()[xr/4+0],Fc=Ct()[xr/8+1];return Hc===0?void 0:Fc}finally{v(16)}}remove(t,r,e,s){l(r,L),l(e,M),ho(this.ptr,t,r.ptr,e.ptr,s)}isHandleValid(t){return Gr(this.ptr,t)!==0}forEachColliderHandle(t){try{po(this.ptr,x(t))}finally{g[E++]=void 0}}}class Qt{static __wrap(t){const r=Object.create(Qt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();zl(t)}collider1(){return wt(this.ptr)}collider2(){return Nl(this.ptr)}total_force(){const t=_t(this.ptr);return d.__wrap(t)}total_force_magnitude(){return Bt(this.ptr)}max_force_direction(){const t=ut(this.ptr);return d.__wrap(t)}max_force_magnitude(){return Ll(this.ptr)}}class $t{static __wrap(t){const r=Object.create($t.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();go(t)}normal(){const t=Ao(this.ptr);return d.__wrap(t)}local_n1(){const t=Eo(this.ptr);return d.__wrap(t)}local_n2(){const t=Io(this.ptr);return d.__wrap(t)}subshape1(){return xo(this.ptr)>>>0}subshape2(){return To(this.ptr)>>>0}num_contacts(){return Po(this.ptr)>>>0}contact_local_p1(t){const r=Mo(this.ptr,t);return r===0?void 0:d.__wrap(r)}contact_local_p2(t){const r=jo(this.ptr,t);return r===0?void 0:d.__wrap(r)}contact_dist(t){return Do(this.ptr,t)}contact_fid1(t){return Ho(this.ptr,t)>>>0}contact_fid2(t){return Fo(this.ptr,t)>>>0}contact_impulse(t){return ko(this.ptr,t)}contact_tangent_impulse(t){return Bo(this.ptr,t)}num_solver_contacts(){return Go(this.ptr)>>>0}solver_contact_point(t){const r=zo(this.ptr,t);return r===0?void 0:d.__wrap(r)}solver_contact_dist(t){return No(this.ptr,t)}solver_contact_friction(t){return Lo(this.ptr,t)}solver_contact_restitution(t){return Oo(this.ptr,t)}solver_contact_tangent_velocity(t){const r=Wo(this.ptr,t);return d.__wrap(r)}}class Zt{static __wrap(t){const r=Object.create(Zt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Sc(t)}collider1(){return So(this.ptr)}collider2(){return vo(this.ptr)}numContactManifolds(){return Ro(this.ptr)>>>0}contactManifold(t){const r=Co(this.ptr,t);return r===0?void 0:$t.__wrap(r)}}class Et{static __wrap(t){const r=Object.create(Et.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Dl(t)}constructor(){const t=Hl();return Et.__wrap(t)}vertices(){const t=Fl(this.ptr);return Rt(t)}colors(){const t=kl(this.ptr);return Rt(t)}render(t,r,e,s,a){l(t,M),l(r,T),l(e,N),l(s,O),l(a,J),Bl(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a.ptr)}}class tr{static __wrap(t){const r=Object.create(tr.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();cc(t)}takeGravity(){const t=hc(this.ptr);return t===0?void 0:d.__wrap(t)}takeIntegrationParameters(){const t=dc(this.ptr);return t===0?void 0:Y.__wrap(t)}takeIslandManager(){const t=pc(this.ptr);return t===0?void 0:L.__wrap(t)}takeBroadPhase(){const t=uc(this.ptr);return t===0?void 0:K.__wrap(t)}takeNarrowPhase(){const t=wc(this.ptr);return t===0?void 0:J.__wrap(t)}takeBodies(){const t=_c(this.ptr);return t===0?void 0:M.__wrap(t)}takeColliders(){const t=fc(this.ptr);return t===0?void 0:T.__wrap(t)}takeImpulseJoints(){const t=mc(this.ptr);return t===0?void 0:N.__wrap(t)}takeMultibodyJoints(){const t=bc(this.ptr);return t===0?void 0:O.__wrap(t)}}class ct{static __wrap(t){const r=Object.create(ct.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Gl(t)}constructor(t){const r=Ol(t);return ct.__wrap(r)}drainCollisionEvents(t){try{Wl(this.ptr,x(t))}finally{g[E++]=void 0}}drainContactForceEvents(t){try{Jl(this.ptr,x(t))}finally{g[E++]=void 0}}clear(){Vl(this.ptr)}}class z{static __wrap(t){const r=Object.create(z.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();ws(t)}static prismatic(t,r,e,s,a,o){l(t,d),l(r,d),l(e,d);const c=_s(t.ptr,r.ptr,e.ptr,s,a,o);return c===0?void 0:z.__wrap(c)}static fixed(t,r,e,s){l(t,d),l(r,S),l(e,d),l(s,S);const a=fs(t.ptr,r.ptr,e.ptr,s.ptr);return z.__wrap(a)}static revolute(t,r){l(t,d),l(r,d);const e=ms(t.ptr,r.ptr);return e===0?void 0:z.__wrap(e)}}class N{static __wrap(t){const r=Object.create(N.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Wi(t)}jointType(t){return Ci(this.ptr,t)>>>0}jointBodyHandle1(t){return Ai(this.ptr,t)}jointBodyHandle2(t){return Ei(this.ptr,t)}jointFrameX1(t){const r=Ii(this.ptr,t);return S.__wrap(r)}jointFrameX2(t){const r=xi(this.ptr,t);return S.__wrap(r)}jointAnchor1(t){const r=Ti(this.ptr,t);return d.__wrap(r)}jointAnchor2(t){const r=Pi(this.ptr,t);return d.__wrap(r)}jointSetAnchor1(t,r){l(r,d),Mi(this.ptr,t,r.ptr)}jointSetAnchor2(t,r){l(r,d),ji(this.ptr,t,r.ptr)}jointContactsEnabled(t){return Di(this.ptr,t)!==0}jointSetContactsEnabled(t,r){Hi(this.ptr,t,r)}jointLimitsEnabled(t,r){return Fi(this.ptr,t,r)!==0}jointLimitsMin(t,r){return ki(this.ptr,t,r)}jointLimitsMax(t,r){return Bi(this.ptr,t,r)}jointSetLimits(t,r,e,s){Gi(this.ptr,t,r,e,s)}jointConfigureMotorModel(t,r,e){zi(this.ptr,t,r,e)}jointConfigureMotorVelocity(t,r,e,s){Ni(this.ptr,t,r,e,s)}jointConfigureMotorPosition(t,r,e,s,a){Li(this.ptr,t,r,e,s,a)}jointConfigureMotor(t,r,e,s,a,o){Oi(this.ptr,t,r,e,s,a,o)}constructor(){const t=Ji();return N.__wrap(t)}createJoint(t,r,e,s){return l(t,z),Vi(this.ptr,t.ptr,r,e,s)}remove(t,r){qi(this.ptr,t,r)}len(){return Ui(this.ptr)>>>0}contains(t){return Xi(this.ptr,t)!==0}forEachJointHandle(t){try{Ki(this.ptr,x(t))}finally{g[E++]=void 0}}forEachJointAttachedToRigidBody(t,r){try{Yi(this.ptr,t,x(r))}finally{g[E++]=void 0}}}class Y{static __wrap(t){const r=Object.create(Y.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Qi(t)}constructor(){const t=$i();return Y.__wrap(t)}get dt(){return er(this.ptr)}get erp(){return Fr(this.ptr)}get allowedLinearError(){return ir(this.ptr)}get predictionDistance(){return Bt(this.ptr)}get maxVelocityIterations(){return Zi(this.ptr)>>>0}get maxVelocityFrictionIterations(){return ts(this.ptr)>>>0}get maxStabilizationIterations(){return rs(this.ptr)>>>0}get minIslandSize(){return es(this.ptr)>>>0}get maxCcdSubsteps(){return is(this.ptr)>>>0}set dt(t){kr(this.ptr,t)}set erp(t){ss(this.ptr,t)}set allowedLinearError(t){Br(this.ptr,t)}set predictionDistance(t){ns(this.ptr,t)}set maxVelocityIterations(t){as(this.ptr,t)}set maxVelocityFrictionIterations(t){os(this.ptr,t)}set maxStabilizationIterations(t){ls(this.ptr,t)}set minIslandSize(t){cs(this.ptr,t)}set maxCcdSubsteps(t){hs(this.ptr,t)}}class L{static __wrap(t){const r=Object.create(L.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();ds(t)}constructor(){const t=ps();return L.__wrap(t)}forEachActiveRigidBodyHandle(t){try{us(this.ptr,x(t))}finally{g[E++]=void 0}}}class It{static __wrap(t){const r=Object.create(It.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Je(t)}constructor(t){const r=Ve(t);return It.__wrap(r)}up(){const t=pt(this.ptr);return d.__wrap(t)}setUp(t){l(t,d),qe(this.ptr,t.ptr)}offset(){return Ue(this.ptr)}setOffset(t){Xe(this.ptr,t)}slideEnabled(){return Ke(this.ptr)!==0}setSlideEnabled(t){Ye(this.ptr,t)}autostepMaxHeight(){try{const e=v(-16);Qe(e,this.ptr);var t=I()[e/4+0],r=X()[e/4+1];return t===0?void 0:r}finally{v(16)}}autostepMinWidth(){try{const e=v(-16);$e(e,this.ptr);var t=I()[e/4+0],r=X()[e/4+1];return t===0?void 0:r}finally{v(16)}}autostepIncludesDynamicBodies(){const t=Ze(this.ptr);return t===16777215?void 0:t!==0}autostepEnabled(){return ti(this.ptr)!==0}enableAutostep(t,r,e){ri(this.ptr,t,r,e)}disableAutostep(){ei(this.ptr)}maxSlopeClimbAngle(){return ir(this.ptr)}setMaxSlopeClimbAngle(t){Br(this.ptr,t)}minSlopeSlideAngle(){return ii(this.ptr)}setMinSlopeSlideAngle(t){si(this.ptr,t)}snapToGroundDistance(){try{const e=v(-16);ni(e,this.ptr);var t=I()[e/4+0],r=X()[e/4+1];return t===0?void 0:r}finally{v(16)}}enableSnapToGround(t){ai(this.ptr,t)}disableSnapToGround(){oi(this.ptr)}snapToGroundEnabled(){return li(this.ptr)!==0}computeColliderMovement(t,r,e,s,a,o,c,p,u,w,_){try{l(r,M),l(e,T),l(s,ht),l(o,d),ci(this.ptr,t,r.ptr,e.ptr,s.ptr,a,o.ptr,c,!f(p),f(p)?0:p,u,!f(w),f(w)?0:w,x(_))}finally{g[E++]=void 0}}computedMovement(){const t=hi(this.ptr);return d.__wrap(t)}computedGrounded(){return di(this.ptr)!==0}numComputedCollisions(){return pi(this.ptr)>>>0}computedCollision(t,r){return l(r,lt),ui(this.ptr,t,r.ptr)!==0}}class O{static __wrap(t){const r=Object.create(O.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();xs(t)}jointType(t){return bs(this.ptr,t)>>>0}jointFrameX1(t){const r=ys(this.ptr,t);return S.__wrap(r)}jointFrameX2(t){const r=gs(this.ptr,t);return S.__wrap(r)}jointAnchor1(t){const r=Ss(this.ptr,t);return d.__wrap(r)}jointAnchor2(t){const r=vs(this.ptr,t);return d.__wrap(r)}jointContactsEnabled(t){return Rs(this.ptr,t)!==0}jointSetContactsEnabled(t,r){Cs(this.ptr,t,r)}jointLimitsEnabled(t,r){return As(this.ptr,t,r)!==0}jointLimitsMin(t,r){return Es(this.ptr,t,r)}jointLimitsMax(t,r){return Is(this.ptr,t,r)}constructor(){const t=Ts();return O.__wrap(t)}createJoint(t,r,e,s){return l(t,z),Ps(this.ptr,t.ptr,r,e,s)}remove(t,r){Ms(this.ptr,t,r)}contains(t){return js(this.ptr,t)!==0}forEachJointHandle(t){try{Ds(this.ptr,x(t))}finally{g[E++]=void 0}}forEachJointAttachedToRigidBody(t,r){try{Hs(this.ptr,t,x(r))}finally{g[E++]=void 0}}}class J{static __wrap(t){const r=Object.create(J.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();wo(t)}constructor(){const t=_o();return J.__wrap(t)}contacts_with(t,r){fo(this.ptr,t,j(r))}contact_pair(t,r){const e=mo(this.ptr,t,r);return e===0?void 0:Zt.__wrap(e)}intersections_with(t,r){bo(this.ptr,t,j(r))}intersection_pair(t,r){return yo(this.ptr,t,r)!==0}}class xt{static __wrap(t){const r=Object.create(xt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();ql(t)}constructor(){const t=Ul();return xt.__wrap(t)}step(t,r,e,s,a,o,c,p,u,w){l(t,d),l(r,Y),l(e,L),l(s,K),l(a,J),l(o,M),l(c,T),l(p,N),l(u,O),l(w,et),Xl(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a.ptr,o.ptr,c.ptr,p.ptr,u.ptr,w.ptr)}stepWithEvents(t,r,e,s,a,o,c,p,u,w,_,m,y,P){l(t,d),l(r,Y),l(e,L),l(s,K),l(a,J),l(o,M),l(c,T),l(p,N),l(u,O),l(w,et),l(_,ct),Kl(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a.ptr,o.ptr,c.ptr,p.ptr,u.ptr,w.ptr,_.ptr,j(m),j(y),j(P))}}class Tt{static __wrap(t){const r=Object.create(Tt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();qo(t)}colliderHandle(){return wt(this.ptr)}point(){const t=_t(this.ptr);return d.__wrap(t)}isInside(){return Uo(this.ptr)!==0}featureType(){return zr(this.ptr)>>>0}featureId(){try{const e=v(-16);Nr(e,this.ptr);var t=I()[e/4+0],r=I()[e/4+1];return t===0?void 0:r>>>0}finally{v(16)}}}class Pt{static __wrap(t){const r=Object.create(Pt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Jo(t)}point(){const t=pt(this.ptr);return d.__wrap(t)}isInside(){return Vo(this.ptr)!==0}}class ht{static __wrap(t){const r=Object.create(ht.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Yl(t)}constructor(){const t=Ql();return ht.__wrap(t)}update(t,r){l(t,M),l(r,T),$l(this.ptr,t.ptr,r.ptr)}castRay(t,r,e,s,a,o,c,p,u,w,_){try{l(t,M),l(r,T),l(e,d),l(s,d);const m=Zl(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a,o,c,!f(p),f(p)?0:p,!f(u),f(u)?0:u,!f(w),f(w)?0:w,x(_));return m===0?void 0:rr.__wrap(m)}finally{g[E++]=void 0}}castRayAndGetNormal(t,r,e,s,a,o,c,p,u,w,_){try{l(t,M),l(r,T),l(e,d),l(s,d);const m=tc(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a,o,c,!f(p),f(p)?0:p,!f(u),f(u)?0:u,!f(w),f(w)?0:w,x(_));return m===0?void 0:Mt.__wrap(m)}finally{g[E++]=void 0}}intersectionsWithRay(t,r,e,s,a,o,c,p,u,w,_,m){try{l(t,M),l(r,T),l(e,d),l(s,d),rc(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a,o,x(c),p,!f(u),f(u)?0:u,!f(w),f(w)?0:w,!f(_),f(_)?0:_,x(m))}finally{g[E++]=void 0,g[E++]=void 0}}intersectionWithShape(t,r,e,s,a,o,c,p,u,w){try{const y=v(-16);l(t,M),l(r,T),l(e,d),l(s,S),l(a,b),ec(y,this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a.ptr,o,!f(c),f(c)?0:c,!f(p),f(p)?0:p,!f(u),f(u)?0:u,x(w));var _=I()[y/4+0],m=Ct()[y/8+1];return _===0?void 0:m}finally{v(16),g[E++]=void 0}}projectPoint(t,r,e,s,a,o,c,p,u){try{l(t,M),l(r,T),l(e,d);const w=ic(this.ptr,t.ptr,r.ptr,e.ptr,s,a,!f(o),f(o)?0:o,!f(c),f(c)?0:c,!f(p),f(p)?0:p,x(u));return w===0?void 0:Tt.__wrap(w)}finally{g[E++]=void 0}}projectPointAndGetFeature(t,r,e,s,a,o,c,p){try{l(t,M),l(r,T),l(e,d);const u=sc(this.ptr,t.ptr,r.ptr,e.ptr,s,!f(a),f(a)?0:a,!f(o),f(o)?0:o,!f(c),f(c)?0:c,x(p));return u===0?void 0:Tt.__wrap(u)}finally{g[E++]=void 0}}intersectionsWithPoint(t,r,e,s,a,o,c,p,u){try{l(t,M),l(r,T),l(e,d),nc(this.ptr,t.ptr,r.ptr,e.ptr,x(s),a,!f(o),f(o)?0:o,!f(c),f(c)?0:c,!f(p),f(p)?0:p,x(u))}finally{g[E++]=void 0,g[E++]=void 0}}castShape(t,r,e,s,a,o,c,p,u,w,_,m,y){try{l(t,M),l(r,T),l(e,d),l(s,S),l(a,d),l(o,b);const P=ac(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a.ptr,o.ptr,c,p,u,!f(w),f(w)?0:w,!f(_),f(_)?0:_,!f(m),f(m)?0:m,x(y));return P===0?void 0:Ht.__wrap(P)}finally{g[E++]=void 0}}intersectionsWithShape(t,r,e,s,a,o,c,p,u,w,_){try{l(t,M),l(r,T),l(e,d),l(s,S),l(a,b),oc(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a.ptr,x(o),c,!f(p),f(p)?0:p,!f(u),f(u)?0:u,!f(w),f(w)?0:w,x(_))}finally{g[E++]=void 0,g[E++]=void 0}}collidersWithAabbIntersectingAabb(t,r,e){try{l(t,d),l(r,d),lc(this.ptr,t.ptr,r.ptr,x(e))}finally{g[E++]=void 0}}}class Mt{static __wrap(t){const r=Object.create(Mt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();vc(t)}colliderHandle(){return wt(this.ptr)}normal(){const t=kt(this.ptr);return d.__wrap(t)}toi(){return ir(this.ptr)}featureType(){return Yo(this.ptr)>>>0}featureId(){try{const e=v(-16);Qo(e,this.ptr);var t=I()[e/4+0],r=I()[e/4+1];return t===0?void 0:r>>>0}finally{v(16)}}}class rr{static __wrap(t){const r=Object.create(rr.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Rc(t)}colliderHandle(){return wt(this.ptr)}toi(){return Fr(this.ptr)}}class jt{static __wrap(t){const r=Object.create(jt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Xo(t)}normal(){const t=pt(this.ptr);return d.__wrap(t)}toi(){return Ko(this.ptr)}featureType(){return zr(this.ptr)>>>0}featureId(){try{const e=v(-16);Nr(e,this.ptr);var t=I()[e/4+0],r=I()[e/4+1];return t===0?void 0:r>>>0}finally{v(16)}}}class M{static __wrap(t){const r=Object.create(M.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();On(t)}rbTranslation(t){const r=Fs(this.ptr,t);return d.__wrap(r)}rbRotation(t){const r=ks(this.ptr,t);return S.__wrap(r)}rbSleep(t){Bs(this.ptr,t)}rbIsSleeping(t){return Gs(this.ptr,t)!==0}rbIsMoving(t){return zs(this.ptr,t)!==0}rbNextTranslation(t){const r=Ns(this.ptr,t);return d.__wrap(r)}rbNextRotation(t){const r=Ls(this.ptr,t);return S.__wrap(r)}rbSetTranslation(t,r,e,s){Os(this.ptr,t,r,e,s)}rbSetRotation(t,r,e){Ws(this.ptr,t,r,e)}rbSetLinvel(t,r,e){l(r,d),Js(this.ptr,t,r.ptr,e)}rbSetAngvel(t,r,e){Vs(this.ptr,t,r,e)}rbSetNextKinematicTranslation(t,r,e){qs(this.ptr,t,r,e)}rbSetNextKinematicRotation(t,r){Us(this.ptr,t,r)}rbRecomputeMassPropertiesFromColliders(t,r){l(r,T),Xs(this.ptr,t,r.ptr)}rbSetAdditionalMass(t,r,e){Ks(this.ptr,t,r,e)}rbSetAdditionalMassProperties(t,r,e,s,a){l(e,d),Ys(this.ptr,t,r,e.ptr,s,a)}rbLinvel(t){const r=Qs(this.ptr,t);return d.__wrap(r)}rbAngvel(t){return $s(this.ptr,t)}rbLockTranslations(t,r,e){Zs(this.ptr,t,r,e)}rbSetEnabledTranslations(t,r,e,s){tn(this.ptr,t,r,e,s)}rbLockRotations(t,r,e){rn(this.ptr,t,r,e)}rbDominanceGroup(t){return en(this.ptr,t)}rbSetDominanceGroup(t,r){sn(this.ptr,t,r)}rbEnableCcd(t,r){nn(this.ptr,t,r)}rbMass(t){return an(this.ptr,t)}rbInvMass(t){return on(this.ptr,t)}rbEffectiveInvMass(t){const r=ln(this.ptr,t);return d.__wrap(r)}rbLocalCom(t){const r=cn(this.ptr,t);return d.__wrap(r)}rbWorldCom(t){const r=hn(this.ptr,t);return d.__wrap(r)}rbInvPrincipalInertiaSqrt(t){return dn(this.ptr,t)}rbPrincipalInertia(t){return pn(this.ptr,t)}rbEffectiveWorldInvInertiaSqrt(t){return un(this.ptr,t)}rbEffectiveAngularInertia(t){return wn(this.ptr,t)}rbWakeUp(t){_n(this.ptr,t)}rbIsCcdEnabled(t){return fn(this.ptr,t)!==0}rbNumColliders(t){return mn(this.ptr,t)>>>0}rbCollider(t,r){return bn(this.ptr,t,r)}rbBodyType(t){return yn(this.ptr,t)>>>0}rbSetBodyType(t,r,e){gn(this.ptr,t,r,e)}rbIsFixed(t){return Sn(this.ptr,t)!==0}rbIsKinematic(t){return vn(this.ptr,t)!==0}rbIsDynamic(t){return Rn(this.ptr,t)!==0}rbLinearDamping(t){return Cn(this.ptr,t)}rbAngularDamping(t){return An(this.ptr,t)}rbSetLinearDamping(t,r){En(this.ptr,t,r)}rbSetAngularDamping(t,r){In(this.ptr,t,r)}rbSetEnabled(t,r){xn(this.ptr,t,r)}rbIsEnabled(t){return Tn(this.ptr,t)!==0}rbGravityScale(t){return Pn(this.ptr,t)}rbSetGravityScale(t,r,e){Mn(this.ptr,t,r,e)}rbResetForces(t,r){jn(this.ptr,t,r)}rbResetTorques(t,r){Dn(this.ptr,t,r)}rbAddForce(t,r,e){l(r,d),Hn(this.ptr,t,r.ptr,e)}rbApplyImpulse(t,r,e){l(r,d),Fn(this.ptr,t,r.ptr,e)}rbAddTorque(t,r,e){kn(this.ptr,t,r,e)}rbApplyTorqueImpulse(t,r,e){Bn(this.ptr,t,r,e)}rbAddForceAtPoint(t,r,e,s){l(r,d),l(e,d),Gn(this.ptr,t,r.ptr,e.ptr,s)}rbApplyImpulseAtPoint(t,r,e,s){l(r,d),l(e,d),zn(this.ptr,t,r.ptr,e.ptr,s)}rbUserData(t){return Nn(this.ptr,t)>>>0}rbSetUserData(t,r){Ln(this.ptr,t,r)}constructor(){const t=Wn();return M.__wrap(t)}createRigidBody(t,r,e,s,a,o,c,p,u,w,_,m,y,P,G,q,U,rt,Er,Ir){return l(r,d),l(e,S),l(c,d),l(p,d),Jn(this.ptr,t,r.ptr,e.ptr,s,a,o,c.ptr,p.ptr,u,w,_,m,y,P,G,q,U,rt,Er,Ir)}remove(t,r,e,s,a){l(r,L),l(e,T),l(s,N),l(a,O),Vn(this.ptr,t,r.ptr,e.ptr,s.ptr,a.ptr)}len(){return qn(this.ptr)>>>0}contains(t){return Un(this.ptr,t)!==0}forEachRigidBodyHandle(t){try{Xn(this.ptr,x(t))}finally{g[E++]=void 0}}propagateModifiedBodyPositionsToColliders(t){l(t,T),Kn(this.ptr,t.ptr)}}class S{static __wrap(t){const r=Object.create(S.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Cl(t)}static identity(){const t=Al();return S.__wrap(t)}static fromAngle(t){const r=El(t);return S.__wrap(r)}get im(){return Lr(this.ptr)}get re(){return er(this.ptr)}get angle(){return Il(this.ptr)}}class Dt{static __wrap(t){const r=Object.create(Dt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Ic(t)}constructor(){const t=Ec();return Dt.__wrap(t)}serializeAll(t,r,e,s,a,o,c,p,u){l(t,d),l(r,Y),l(e,L),l(s,K),l(a,J),l(o,M),l(c,T),l(p,N),l(u,O);const w=yc(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a.ptr,o.ptr,c.ptr,p.ptr,u.ptr);return Rt(w)}deserializeAll(t){const r=gc(this.ptr,j(t));return r===0?void 0:tr.__wrap(r)}}class b{static __wrap(t){const r=Object.create(b.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();$o(t)}static cuboid(t,r){const e=Zo(t,r);return b.__wrap(e)}static roundCuboid(t,r,e){const s=tl(t,r,e);return b.__wrap(s)}static ball(t){const r=rl(t);return b.__wrap(r)}static halfspace(t){l(t,d);const r=el(t.ptr);return b.__wrap(r)}static capsule(t,r){const e=il(t,r);return b.__wrap(e)}static polyline(t,r){const e=Q(t,V),s=k,a=Dr(r,V),o=sl(e,s,a,k);return b.__wrap(o)}static trimesh(t,r){const e=Q(t,V),s=k,a=Dr(r,V),o=nl(e,s,a,k);return b.__wrap(o)}static heightfield(t,r){const e=Q(t,V),s=k;l(r,d);const a=al(e,s,r.ptr);return b.__wrap(a)}static segment(t,r){l(t,d),l(r,d);const e=ol(t.ptr,r.ptr);return b.__wrap(e)}static triangle(t,r,e){l(t,d),l(r,d),l(e,d);const s=ll(t.ptr,r.ptr,e.ptr);return b.__wrap(s)}static roundTriangle(t,r,e,s){l(t,d),l(r,d),l(e,d);const a=cl(t.ptr,r.ptr,e.ptr,s);return b.__wrap(a)}static convexHull(t){const r=Q(t,V),e=hl(r,k);return e===0?void 0:b.__wrap(e)}static roundConvexHull(t,r){const e=Q(t,V),s=dl(e,k,r);return s===0?void 0:b.__wrap(s)}static convexPolyline(t){const r=Q(t,V),e=pl(r,k);return e===0?void 0:b.__wrap(e)}static roundConvexPolyline(t,r){const e=Q(t,V),s=ul(e,k,r);return s===0?void 0:b.__wrap(s)}castShape(t,r,e,s,a,o,c,p,u){l(t,d),l(r,S),l(e,d),l(s,b),l(a,d),l(o,S),l(c,d);const w=wl(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a.ptr,o.ptr,c.ptr,p,u);return w===0?void 0:Ft.__wrap(w)}intersectsShape(t,r,e,s,a){return l(t,d),l(r,S),l(e,b),l(s,d),l(a,S),_l(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a.ptr)!==0}contactShape(t,r,e,s,a,o){l(t,d),l(r,S),l(e,b),l(s,d),l(a,S);const c=fl(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a.ptr,o);return c===0?void 0:dt.__wrap(c)}containsPoint(t,r,e){return l(t,d),l(r,S),l(e,d),ml(this.ptr,t.ptr,r.ptr,e.ptr)!==0}projectPoint(t,r,e,s){l(t,d),l(r,S),l(e,d);const a=bl(this.ptr,t.ptr,r.ptr,e.ptr,s);return Pt.__wrap(a)}intersectsRay(t,r,e,s,a){return l(t,d),l(r,S),l(e,d),l(s,d),yl(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a)!==0}castRay(t,r,e,s,a,o){return l(t,d),l(r,S),l(e,d),l(s,d),gl(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a,o)}castRayAndGetNormal(t,r,e,s,a,o){l(t,d),l(r,S),l(e,d),l(s,d);const c=Sl(this.ptr,t.ptr,r.ptr,e.ptr,s.ptr,a,o);return c===0?void 0:jt.__wrap(c)}}class Ht{static __wrap(t){const r=Object.create(Ht.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();vl(t)}colliderHandle(){return wt(this.ptr)}toi(){return Rl(this.ptr)}witness1(){const t=kt(this.ptr);return d.__wrap(t)}witness2(){const t=_t(this.ptr);return d.__wrap(t)}normal1(){const t=ut(this.ptr);return d.__wrap(t)}normal2(){const t=Hr(this.ptr);return d.__wrap(t)}}class dt{static __wrap(t){const r=Object.create(dt.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();uo(t)}distance(){return Bt(this.ptr)}point1(){const t=pt(this.ptr);return d.__wrap(t)}point2(){const t=kt(this.ptr);return d.__wrap(t)}normal1(){const t=_t(this.ptr);return d.__wrap(t)}normal2(){const t=ut(this.ptr);return d.__wrap(t)}}class Ft{static __wrap(t){const r=Object.create(Ft.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Ac(t)}toi(){return Bt(this.ptr)}witness1(){const t=pt(this.ptr);return d.__wrap(t)}witness2(){const t=kt(this.ptr);return d.__wrap(t)}normal1(){const t=_t(this.ptr);return d.__wrap(t)}normal2(){const t=ut(this.ptr);return d.__wrap(t)}}class d{static __wrap(t){const r=Object.create(d.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Cc(t)}static zero(){const t=xl();return d.__wrap(t)}constructor(t,r){const e=Tl(t,r);return d.__wrap(e)}get x(){return er(this.ptr)}set x(t){kr(this.ptr,t)}get y(){return Lr(this.ptr)}set y(t){Pl(this.ptr,t)}xy(){const t=Ml(this.ptr);return d.__wrap(t)}yx(){const t=jl(this.ptr);return d.__wrap(t)}}function Se(n){Rt(n)}function ve(n){return j(n)}function Re(n,t){const r=R(t),e=typeof r=="number"?r:void 0;Ct()[n/8+1]=f(e)?0:e,I()[n/4+0]=!f(e)}function Ce(n){const t=R(n);return typeof t=="boolean"?t?1:0:2}function Ae(n){return typeof R(n)=="function"}function Ee(n){const t=Mt.__wrap(n);return j(t)}function Ie(n){const t=Qt.__wrap(n);return j(t)}function xe(){return Yt(function(n,t,r){const e=R(n).call(R(t),R(r));return j(e)},arguments)}function Te(){return Yt(function(n,t,r,e){const s=R(n).call(R(t),R(r),R(e));return j(s)},arguments)}function Pe(){return Yt(function(n,t,r,e,s){const a=R(n).call(R(t),R(r),R(e),R(s));return j(a)},arguments)}function Me(n,t,r,e){const s=R(n).bind(R(t),R(r),R(e));return j(s)}function je(n){const t=R(n).buffer;return j(t)}function De(n,t,r){const e=new Uint8Array(R(n),t>>>0,r>>>0);return j(e)}function He(n){const t=new Uint8Array(R(n));return j(t)}function Fe(n,t,r){R(n).set(R(t),r>>>0)}function ke(n){return R(n).length}function Be(n,t,r){const e=new Float32Array(R(n),t>>>0,r>>>0);return j(e)}function Ge(n,t,r){R(n).set(R(t),r>>>0)}function ze(n){return R(n).length}function Ne(n){const t=new Float32Array(n>>>0);return j(t)}function Le(n,t){throw new Error(Pr(n,t))}function Oe(){return j(it)}URL=globalThis.URL;const i=await _e({"./rapier_wasm2d_bg.js":{__wbindgen_object_drop_ref:Se,__wbindgen_number_new:ve,__wbindgen_number_get:Re,__wbindgen_boolean_get:Ce,__wbindgen_is_function:Ae,__wbg_rawraycolliderintersection_new:Ee,__wbg_rawcontactforceevent_new:Ie,__wbg_call_168da88779e35f61:xe,__wbg_call_3999bee59e9f7719:Te,__wbg_call_e1f72c051cdab859:Pe,__wbg_bind_10dfe70e95d2a480:Me,__wbg_buffer_3f3d764d4747d564:je,__wbg_newwithbyteoffsetandlength_d9aa266703cb98be:De,__wbg_new_8c3f0052272a457a:He,__wbg_set_83db9690f9353e79:Fe,__wbg_length_9e1ae1900cb0fbd5:ke,__wbg_newwithbyteoffsetandlength_be22e5fcf4f69ab4:Be,__wbg_set_0e0314cf6675c1b9:Ge,__wbg_length_9a2deed95d22668d:ze,__wbg_newwithlength_a7168e4a1e8f5e12:Ne,__wbindgen_throw:Le,__wbindgen_memory:Oe}},we),it=i.memory,We=i.version,Je=i.__wbg_rawkinematiccharactercontroller_free,Ve=i.rawkinematiccharactercontroller_new,pt=i.rawkinematiccharactercontroller_up,qe=i.rawkinematiccharactercontroller_setUp,Ue=i.rawkinematiccharactercontroller_offset,Xe=i.rawkinematiccharactercontroller_setOffset,Ke=i.rawkinematiccharactercontroller_slideEnabled,Ye=i.rawkinematiccharactercontroller_setSlideEnabled,Qe=i.rawkinematiccharactercontroller_autostepMaxHeight,$e=i.rawkinematiccharactercontroller_autostepMinWidth,Ze=i.rawkinematiccharactercontroller_autostepIncludesDynamicBodies,ti=i.rawkinematiccharactercontroller_autostepEnabled,ri=i.rawkinematiccharactercontroller_enableAutostep,ei=i.rawkinematiccharactercontroller_disableAutostep,ii=i.rawkinematiccharactercontroller_minSlopeSlideAngle,si=i.rawkinematiccharactercontroller_setMinSlopeSlideAngle,ni=i.rawkinematiccharactercontroller_snapToGroundDistance,ai=i.rawkinematiccharactercontroller_enableSnapToGround,oi=i.rawkinematiccharactercontroller_disableSnapToGround,li=i.rawkinematiccharactercontroller_snapToGroundEnabled,ci=i.rawkinematiccharactercontroller_computeColliderMovement,hi=i.rawkinematiccharactercontroller_computedMovement,di=i.rawkinematiccharactercontroller_computedGrounded,pi=i.rawkinematiccharactercontroller_numComputedCollisions,ui=i.rawkinematiccharactercontroller_computedCollision,wi=i.__wbg_rawcharactercollision_free,_i=i.rawcharactercollision_new,fi=i.rawcharactercollision_handle,ut=i.rawcharactercollision_translationApplied,Hr=i.rawcharactercollision_translationRemaining,mi=i.rawcharactercollision_toi,bi=i.rawcharactercollision_worldWitness1,yi=i.rawcharactercollision_worldWitness2,gi=i.rawcharactercollision_worldNormal1,Si=i.rawcharactercollision_worldNormal2,vi=i.__wbg_rawccdsolver_free,Ri=i.rawccdsolver_new,Ci=i.rawimpulsejointset_jointType,Ai=i.rawimpulsejointset_jointBodyHandle1,Ei=i.rawimpulsejointset_jointBodyHandle2,Ii=i.rawimpulsejointset_jointFrameX1,xi=i.rawimpulsejointset_jointFrameX2,Ti=i.rawimpulsejointset_jointAnchor1,Pi=i.rawimpulsejointset_jointAnchor2,Mi=i.rawimpulsejointset_jointSetAnchor1,ji=i.rawimpulsejointset_jointSetAnchor2,Di=i.rawimpulsejointset_jointContactsEnabled,Hi=i.rawimpulsejointset_jointSetContactsEnabled,Fi=i.rawimpulsejointset_jointLimitsEnabled,ki=i.rawimpulsejointset_jointLimitsMin,Bi=i.rawimpulsejointset_jointLimitsMax,Gi=i.rawimpulsejointset_jointSetLimits,zi=i.rawimpulsejointset_jointConfigureMotorModel,Ni=i.rawimpulsejointset_jointConfigureMotorVelocity,Li=i.rawimpulsejointset_jointConfigureMotorPosition,Oi=i.rawimpulsejointset_jointConfigureMotor,Wi=i.__wbg_rawimpulsejointset_free,Ji=i.rawimpulsejointset_new,Vi=i.rawimpulsejointset_createJoint,qi=i.rawimpulsejointset_remove,Ui=i.rawimpulsejointset_len,Xi=i.rawimpulsejointset_contains,Ki=i.rawimpulsejointset_forEachJointHandle,Yi=i.rawimpulsejointset_forEachJointAttachedToRigidBody,Qi=i.__wbg_rawintegrationparameters_free,$i=i.rawintegrationparameters_new,er=i.rawintegrationparameters_dt,Fr=i.rawintegrationparameters_erp,ir=i.rawintegrationparameters_allowedLinearError,Zi=i.rawintegrationparameters_maxVelocityIterations,ts=i.rawintegrationparameters_maxVelocityFrictionIterations,rs=i.rawintegrationparameters_maxStabilizationIterations,es=i.rawintegrationparameters_minIslandSize,is=i.rawintegrationparameters_maxCcdSubsteps,kr=i.rawintegrationparameters_set_dt,ss=i.rawintegrationparameters_set_erp,Br=i.rawintegrationparameters_set_allowedLinearError,ns=i.rawintegrationparameters_set_predictionDistance,as=i.rawintegrationparameters_set_maxVelocityIterations,os=i.rawintegrationparameters_set_maxVelocityFrictionIterations,ls=i.rawintegrationparameters_set_maxStabilizationIterations,cs=i.rawintegrationparameters_set_minIslandSize,hs=i.rawintegrationparameters_set_maxCcdSubsteps,ds=i.__wbg_rawislandmanager_free,ps=i.rawislandmanager_new,us=i.rawislandmanager_forEachActiveRigidBodyHandle,ws=i.__wbg_rawgenericjoint_free,_s=i.rawgenericjoint_prismatic,fs=i.rawgenericjoint_fixed,ms=i.rawgenericjoint_revolute,bs=i.rawmultibodyjointset_jointType,ys=i.rawmultibodyjointset_jointFrameX1,gs=i.rawmultibodyjointset_jointFrameX2,Ss=i.rawmultibodyjointset_jointAnchor1,vs=i.rawmultibodyjointset_jointAnchor2,Rs=i.rawmultibodyjointset_jointContactsEnabled,Cs=i.rawmultibodyjointset_jointSetContactsEnabled,As=i.rawmultibodyjointset_jointLimitsEnabled,Es=i.rawmultibodyjointset_jointLimitsMin,Is=i.rawmultibodyjointset_jointLimitsMax,xs=i.__wbg_rawmultibodyjointset_free,Ts=i.rawmultibodyjointset_new,Ps=i.rawmultibodyjointset_createJoint,Ms=i.rawmultibodyjointset_remove,js=i.rawmultibodyjointset_contains,Ds=i.rawmultibodyjointset_forEachJointHandle,Hs=i.rawmultibodyjointset_forEachJointAttachedToRigidBody,Fs=i.rawrigidbodyset_rbTranslation,ks=i.rawrigidbodyset_rbRotation,Bs=i.rawrigidbodyset_rbSleep,Gs=i.rawrigidbodyset_rbIsSleeping,zs=i.rawrigidbodyset_rbIsMoving,Ns=i.rawrigidbodyset_rbNextTranslation,Ls=i.rawrigidbodyset_rbNextRotation,Os=i.rawrigidbodyset_rbSetTranslation,Ws=i.rawrigidbodyset_rbSetRotation,Js=i.rawrigidbodyset_rbSetLinvel,Vs=i.rawrigidbodyset_rbSetAngvel,qs=i.rawrigidbodyset_rbSetNextKinematicTranslation,Us=i.rawrigidbodyset_rbSetNextKinematicRotation,Xs=i.rawrigidbodyset_rbRecomputeMassPropertiesFromColliders,Ks=i.rawrigidbodyset_rbSetAdditionalMass,Ys=i.rawrigidbodyset_rbSetAdditionalMassProperties,Qs=i.rawrigidbodyset_rbLinvel,$s=i.rawrigidbodyset_rbAngvel,Zs=i.rawrigidbodyset_rbLockTranslations,tn=i.rawrigidbodyset_rbSetEnabledTranslations,rn=i.rawrigidbodyset_rbLockRotations,en=i.rawrigidbodyset_rbDominanceGroup,sn=i.rawrigidbodyset_rbSetDominanceGroup,nn=i.rawrigidbodyset_rbEnableCcd,an=i.rawrigidbodyset_rbMass,on=i.rawrigidbodyset_rbInvMass,ln=i.rawrigidbodyset_rbEffectiveInvMass,cn=i.rawrigidbodyset_rbLocalCom,hn=i.rawrigidbodyset_rbWorldCom,dn=i.rawrigidbodyset_rbInvPrincipalInertiaSqrt,pn=i.rawrigidbodyset_rbPrincipalInertia,un=i.rawrigidbodyset_rbEffectiveWorldInvInertiaSqrt,wn=i.rawrigidbodyset_rbEffectiveAngularInertia,_n=i.rawrigidbodyset_rbWakeUp,fn=i.rawrigidbodyset_rbIsCcdEnabled,mn=i.rawrigidbodyset_rbNumColliders,bn=i.rawrigidbodyset_rbCollider,yn=i.rawrigidbodyset_rbBodyType,gn=i.rawrigidbodyset_rbSetBodyType,Sn=i.rawrigidbodyset_rbIsFixed,vn=i.rawrigidbodyset_rbIsKinematic,Rn=i.rawrigidbodyset_rbIsDynamic,Cn=i.rawrigidbodyset_rbLinearDamping,An=i.rawrigidbodyset_rbAngularDamping,En=i.rawrigidbodyset_rbSetLinearDamping,In=i.rawrigidbodyset_rbSetAngularDamping,xn=i.rawrigidbodyset_rbSetEnabled,Tn=i.rawrigidbodyset_rbIsEnabled,Pn=i.rawrigidbodyset_rbGravityScale,Mn=i.rawrigidbodyset_rbSetGravityScale,jn=i.rawrigidbodyset_rbResetForces,Dn=i.rawrigidbodyset_rbResetTorques,Hn=i.rawrigidbodyset_rbAddForce,Fn=i.rawrigidbodyset_rbApplyImpulse,kn=i.rawrigidbodyset_rbAddTorque,Bn=i.rawrigidbodyset_rbApplyTorqueImpulse,Gn=i.rawrigidbodyset_rbAddForceAtPoint,zn=i.rawrigidbodyset_rbApplyImpulseAtPoint,Nn=i.rawrigidbodyset_rbUserData,Ln=i.rawrigidbodyset_rbSetUserData,On=i.__wbg_rawrigidbodyset_free,Wn=i.rawrigidbodyset_new,Jn=i.rawrigidbodyset_createRigidBody,Vn=i.rawrigidbodyset_remove,qn=i.rawrigidbodyset_len,Un=i.rawrigidbodyset_contains,Xn=i.rawrigidbodyset_forEachRigidBodyHandle,Kn=i.rawrigidbodyset_propagateModifiedBodyPositionsToColliders,Yn=i.__wbg_rawbroadphase_free,Qn=i.rawbroadphase_new,$n=i.rawcolliderset_coTranslation,Zn=i.rawcolliderset_coRotation,ta=i.rawcolliderset_coSetTranslation,ra=i.rawcolliderset_coSetTranslationWrtParent,ea=i.rawcolliderset_coSetRotation,ia=i.rawcolliderset_coSetRotationWrtParent,sa=i.rawcolliderset_coIsSensor,na=i.rawcolliderset_coShapeType,aa=i.rawcolliderset_coHalfspaceNormal,oa=i.rawcolliderset_coHalfExtents,la=i.rawcolliderset_coSetHalfExtents,ca=i.rawcolliderset_coRadius,ha=i.rawcolliderset_coSetRadius,da=i.rawcolliderset_coHalfHeight,pa=i.rawcolliderset_coSetHalfHeight,ua=i.rawcolliderset_coRoundRadius,wa=i.rawcolliderset_coSetRoundRadius,_a=i.rawcolliderset_coVertices,fa=i.rawcolliderset_coIndices,ma=i.rawcolliderset_coHeightfieldHeights,ba=i.rawcolliderset_coHeightfieldScale,ya=i.rawcolliderset_coParent,ga=i.rawcolliderset_coSetEnabled,Sa=i.rawcolliderset_coIsEnabled,va=i.rawcolliderset_coFriction,Ra=i.rawcolliderset_coRestitution,Ca=i.rawcolliderset_coDensity,Aa=i.rawcolliderset_coMass,Ea=i.rawcolliderset_coVolume,Ia=i.rawcolliderset_coCollisionGroups,xa=i.rawcolliderset_coSolverGroups,Ta=i.rawcolliderset_coActiveHooks,Pa=i.rawcolliderset_coActiveCollisionTypes,Ma=i.rawcolliderset_coActiveEvents,ja=i.rawcolliderset_coContactForceEventThreshold,Da=i.rawcolliderset_coContainsPoint,Ha=i.rawcolliderset_coCastShape,Fa=i.rawcolliderset_coCastCollider,ka=i.rawcolliderset_coIntersectsShape,Ba=i.rawcolliderset_coContactShape,Ga=i.rawcolliderset_coContactCollider,za=i.rawcolliderset_coProjectPoint,Na=i.rawcolliderset_coIntersectsRay,La=i.rawcolliderset_coCastRay,Oa=i.rawcolliderset_coCastRayAndGetNormal,Wa=i.rawcolliderset_coSetSensor,Ja=i.rawcolliderset_coSetRestitution,Va=i.rawcolliderset_coSetFriction,qa=i.rawcolliderset_coFrictionCombineRule,Ua=i.rawcolliderset_coSetFrictionCombineRule,Xa=i.rawcolliderset_coRestitutionCombineRule,Ka=i.rawcolliderset_coSetRestitutionCombineRule,Ya=i.rawcolliderset_coSetCollisionGroups,Qa=i.rawcolliderset_coSetSolverGroups,$a=i.rawcolliderset_coSetActiveHooks,Za=i.rawcolliderset_coSetActiveEvents,to=i.rawcolliderset_coSetActiveCollisionTypes,ro=i.rawcolliderset_coSetShape,eo=i.rawcolliderset_coSetContactForceEventThreshold,io=i.rawcolliderset_coSetDensity,so=i.rawcolliderset_coSetMass,no=i.rawcolliderset_coSetMassProperties,ao=i.__wbg_rawcolliderset_free,oo=i.rawcolliderset_new,lo=i.rawcolliderset_len,Gr=i.rawcolliderset_contains,co=i.rawcolliderset_createCollider,ho=i.rawcolliderset_remove,po=i.rawcolliderset_forEachColliderHandle,uo=i.__wbg_rawshapecontact_free,wo=i.__wbg_rawnarrowphase_free,_o=i.rawnarrowphase_new,fo=i.rawnarrowphase_contacts_with,mo=i.rawnarrowphase_contact_pair,bo=i.rawnarrowphase_intersections_with,yo=i.rawnarrowphase_intersection_pair,go=i.__wbg_rawcontactmanifold_free,So=i.rawcontactpair_collider1,vo=i.rawcontactpair_collider2,Ro=i.rawcontactpair_numContactManifolds,Co=i.rawcontactpair_contactManifold,Ao=i.rawcontactmanifold_normal,Eo=i.rawcontactmanifold_local_n1,Io=i.rawcontactmanifold_local_n2,xo=i.rawcontactmanifold_subshape1,To=i.rawcontactmanifold_subshape2,Po=i.rawcontactmanifold_num_contacts,Mo=i.rawcontactmanifold_contact_local_p1,jo=i.rawcontactmanifold_contact_local_p2,Do=i.rawcontactmanifold_contact_dist,Ho=i.rawcontactmanifold_contact_fid1,Fo=i.rawcontactmanifold_contact_fid2,ko=i.rawcontactmanifold_contact_impulse,Bo=i.rawcontactmanifold_contact_tangent_impulse,Go=i.rawcontactmanifold_num_solver_contacts,zo=i.rawcontactmanifold_solver_contact_point,No=i.rawcontactmanifold_solver_contact_dist,Lo=i.rawcontactmanifold_solver_contact_friction,Oo=i.rawcontactmanifold_solver_contact_restitution,Wo=i.rawcontactmanifold_solver_contact_tangent_velocity,Jo=i.__wbg_rawpointprojection_free,Vo=i.rawpointprojection_isInside,qo=i.__wbg_rawpointcolliderprojection_free,Uo=i.rawpointcolliderprojection_isInside,zr=i.rawpointcolliderprojection_featureType,Nr=i.rawpointcolliderprojection_featureId,Xo=i.__wbg_rawrayintersection_free,Ko=i.rawrayintersection_toi,kt=i.rawraycolliderintersection_normal,Yo=i.rawraycolliderintersection_featureType,Qo=i.rawraycolliderintersection_featureId,$o=i.__wbg_rawshape_free,Zo=i.rawshape_cuboid,tl=i.rawshape_roundCuboid,rl=i.rawshape_ball,el=i.rawshape_halfspace,il=i.rawshape_capsule,sl=i.rawshape_polyline,nl=i.rawshape_trimesh,al=i.rawshape_heightfield,ol=i.rawshape_segment,ll=i.rawshape_triangle,cl=i.rawshape_roundTriangle,hl=i.rawshape_convexHull,dl=i.rawshape_roundConvexHull,pl=i.rawshape_convexPolyline,ul=i.rawshape_roundConvexPolyline,wl=i.rawshape_castShape,_l=i.rawshape_intersectsShape,fl=i.rawshape_contactShape,ml=i.rawshape_containsPoint,bl=i.rawshape_projectPoint,yl=i.rawshape_intersectsRay,gl=i.rawshape_castRay,Sl=i.rawshape_castRayAndGetNormal,vl=i.__wbg_rawshapecollidertoi_free,Rl=i.rawshapecollidertoi_toi,Cl=i.__wbg_rawrotation_free,Al=i.rawrotation_identity,El=i.rawrotation_fromAngle,Lr=i.rawrotation_im,Il=i.rawrotation_angle,xl=i.rawvector_zero,Tl=i.rawvector_new,Pl=i.rawvector_set_y,Ml=i.rawvector_xy,jl=i.rawvector_yx,Dl=i.__wbg_rawdebugrenderpipeline_free,Hl=i.rawdebugrenderpipeline_new,Fl=i.rawdebugrenderpipeline_vertices,kl=i.rawdebugrenderpipeline_colors,Bl=i.rawdebugrenderpipeline_render,Gl=i.__wbg_raweventqueue_free,zl=i.__wbg_rawcontactforceevent_free,wt=i.rawcontactforceevent_collider1,Nl=i.rawcontactforceevent_collider2,_t=i.rawcontactforceevent_total_force,Bt=i.rawcontactforceevent_total_force_magnitude,Ll=i.rawcontactforceevent_max_force_magnitude,Ol=i.raweventqueue_new,Wl=i.raweventqueue_drainCollisionEvents,Jl=i.raweventqueue_drainContactForceEvents,Vl=i.raweventqueue_clear,ql=i.__wbg_rawphysicspipeline_free,Ul=i.rawphysicspipeline_new,Xl=i.rawphysicspipeline_step,Kl=i.rawphysicspipeline_stepWithEvents,Yl=i.__wbg_rawquerypipeline_free,Ql=i.rawquerypipeline_new,$l=i.rawquerypipeline_update,Zl=i.rawquerypipeline_castRay,tc=i.rawquerypipeline_castRayAndGetNormal,rc=i.rawquerypipeline_intersectionsWithRay,ec=i.rawquerypipeline_intersectionWithShape,ic=i.rawquerypipeline_projectPoint,sc=i.rawquerypipeline_projectPointAndGetFeature,nc=i.rawquerypipeline_intersectionsWithPoint,ac=i.rawquerypipeline_castShape,oc=i.rawquerypipeline_intersectionsWithShape,lc=i.rawquerypipeline_collidersWithAabbIntersectingAabb,cc=i.__wbg_rawdeserializedworld_free,hc=i.rawdeserializedworld_takeGravity,dc=i.rawdeserializedworld_takeIntegrationParameters,pc=i.rawdeserializedworld_takeIslandManager,uc=i.rawdeserializedworld_takeBroadPhase,wc=i.rawdeserializedworld_takeNarrowPhase,_c=i.rawdeserializedworld_takeBodies,fc=i.rawdeserializedworld_takeColliders,mc=i.rawdeserializedworld_takeImpulseJoints,bc=i.rawdeserializedworld_takeMultibodyJoints,yc=i.rawserializationpipeline_serializeAll,gc=i.rawserializationpipeline_deserializeAll,Sc=i.__wbg_rawcontactpair_free,vc=i.__wbg_rawraycolliderintersection_free,Rc=i.__wbg_rawraycollidertoi_free,Cc=i.__wbg_rawvector_free,Ac=i.__wbg_rawshapetoi_free;i.rawkinematiccharactercontroller_setMaxSlopeClimbAngle,i.rawvector_set_x,i.rawcolliderset_isHandleValid,i.rawrayintersection_featureType,i.rawrayintersection_featureId,i.rawshapecontact_point1,i.rawshapecontact_normal2,i.rawpointprojection_point,i.rawshapecontact_normal1,i.rawrayintersection_normal,i.rawshapecontact_point2,i.rawshapetoi_witness1,i.rawshapetoi_witness2,i.rawshapetoi_normal1,i.rawshapetoi_normal2,i.rawshapecollidertoi_witness1,i.rawshapecollidertoi_witness2,i.rawshapecollidertoi_normal1,i.rawshapecollidertoi_normal2,i.rawpointcolliderprojection_point,i.rawcontactforceevent_max_force_direction;const Ec=i.rawserializationpipeline_new;i.rawkinematiccharactercontroller_maxSlopeClimbAngle,i.rawshapecontact_distance,i.rawraycolliderintersection_toi,i.rawraycollidertoi_toi,i.rawshapetoi_toi,i.rawrotation_re,i.rawvector_x,i.rawvector_y,i.rawintegrationparameters_predictionDistance,i.rawraycolliderintersection_colliderHandle,i.rawraycollidertoi_colliderHandle,i.rawshapecollidertoi_colliderHandle,i.rawpointcolliderprojection_colliderHandle;const Ic=i.__wbg_rawserializationpipeline_free,v=i.__wbindgen_add_to_stack_pointer,Gt=i.__wbindgen_free,V=i.__wbindgen_malloc,xc=i.__wbindgen_exn_store;class Or{constructor(t,r){this.x=t,this.y=r}}class h{static new(t,r){return new Or(t,r)}static zeros(){return h.new(0,0)}static fromRaw(t){if(!t)return null;let r=h.new(t.x,t.y);return t.free(),r}static intoRaw(t){return new d(t.x,t.y)}static copy(t,r){t.x=r.x,t.y=r.y}}class A{static identity(){return 0}static fromRaw(t){if(!t)return null;let r=t.angle;return t.free(),r}static intoRaw(t){return S.fromAngle(t)}}var B;(function(n){n[n.Dynamic=0]="Dynamic",n[n.Fixed=1]="Fixed",n[n.KinematicPositionBased=2]="KinematicPositionBased",n[n.KinematicVelocityBased=3]="KinematicVelocityBased"})(B||(B={}));class sr{constructor(t,r,e){this.rawSet=t,this.colliderSet=r,this.handle=e}finalizeDeserialization(t){this.colliderSet=t}isValid(){return this.rawSet.contains(this.handle)}lockTranslations(t,r){return this.rawSet.rbLockTranslations(this.handle,t,r)}lockRotations(t,r){return this.rawSet.rbLockRotations(this.handle,t,r)}setEnabledTranslations(t,r,e){return this.rawSet.rbSetEnabledTranslations(this.handle,t,r,e)}restrictTranslations(t,r,e){this.setEnabledTranslations(t,t,e)}dominanceGroup(){return this.rawSet.rbDominanceGroup(this.handle)}setDominanceGroup(t){this.rawSet.rbSetDominanceGroup(this.handle,t)}enableCcd(t){this.rawSet.rbEnableCcd(this.handle,t)}translation(){let t=this.rawSet.rbTranslation(this.handle);return h.fromRaw(t)}rotation(){let t=this.rawSet.rbRotation(this.handle);return A.fromRaw(t)}nextTranslation(){let t=this.rawSet.rbNextTranslation(this.handle);return h.fromRaw(t)}nextRotation(){let t=this.rawSet.rbNextRotation(this.handle);return A.fromRaw(t)}setTranslation(t,r){this.rawSet.rbSetTranslation(this.handle,t.x,t.y,r)}setLinvel(t,r){let e=h.intoRaw(t);this.rawSet.rbSetLinvel(this.handle,e,r),e.free()}gravityScale(){return this.rawSet.rbGravityScale(this.handle)}setGravityScale(t,r){this.rawSet.rbSetGravityScale(this.handle,t,r)}setRotation(t,r){this.rawSet.rbSetRotation(this.handle,t,r)}setAngvel(t,r){this.rawSet.rbSetAngvel(this.handle,t,r)}setNextKinematicTranslation(t){this.rawSet.rbSetNextKinematicTranslation(this.handle,t.x,t.y)}setNextKinematicRotation(t){this.rawSet.rbSetNextKinematicRotation(this.handle,t)}linvel(){return h.fromRaw(this.rawSet.rbLinvel(this.handle))}angvel(){return this.rawSet.rbAngvel(this.handle)}mass(){return this.rawSet.rbMass(this.handle)}effectiveInvMass(){return h.fromRaw(this.rawSet.rbEffectiveInvMass(this.handle))}invMass(){return this.rawSet.rbInvMass(this.handle)}localCom(){return h.fromRaw(this.rawSet.rbLocalCom(this.handle))}worldCom(){return h.fromRaw(this.rawSet.rbWorldCom(this.handle))}invPrincipalInertiaSqrt(){return this.rawSet.rbInvPrincipalInertiaSqrt(this.handle)}principalInertia(){return this.rawSet.rbPrincipalInertia(this.handle)}effectiveWorldInvInertiaSqrt(){return this.rawSet.rbEffectiveWorldInvInertiaSqrt(this.handle)}effectiveAngularInertia(){return this.rawSet.rbEffectiveAngularInertia(this.handle)}sleep(){this.rawSet.rbSleep(this.handle)}wakeUp(){this.rawSet.rbWakeUp(this.handle)}isCcdEnabled(){return this.rawSet.rbIsCcdEnabled(this.handle)}numColliders(){return this.rawSet.rbNumColliders(this.handle)}collider(t){return this.colliderSet.get(this.rawSet.rbCollider(this.handle,t))}setEnabled(t){this.rawSet.rbSetEnabled(this.handle,t)}isEnabled(){return this.rawSet.rbIsEnabled(this.handle)}bodyType(){return this.rawSet.rbBodyType(this.handle)}setBodyType(t,r){return this.rawSet.rbSetBodyType(this.handle,t,r)}isSleeping(){return this.rawSet.rbIsSleeping(this.handle)}isMoving(){return this.rawSet.rbIsMoving(this.handle)}isFixed(){return this.rawSet.rbIsFixed(this.handle)}isKinematic(){return this.rawSet.rbIsKinematic(this.handle)}isDynamic(){return this.rawSet.rbIsDynamic(this.handle)}linearDamping(){return this.rawSet.rbLinearDamping(this.handle)}angularDamping(){return this.rawSet.rbAngularDamping(this.handle)}setLinearDamping(t){this.rawSet.rbSetLinearDamping(this.handle,t)}recomputeMassPropertiesFromColliders(){this.rawSet.rbRecomputeMassPropertiesFromColliders(this.handle,this.colliderSet.raw)}setAdditionalMass(t,r){this.rawSet.rbSetAdditionalMass(this.handle,t,r)}setAdditionalMassProperties(t,r,e,s){let a=h.intoRaw(r);this.rawSet.rbSetAdditionalMassProperties(this.handle,t,a,e,s),a.free()}setAngularDamping(t){this.rawSet.rbSetAngularDamping(this.handle,t)}resetForces(t){this.rawSet.rbResetForces(this.handle,t)}resetTorques(t){this.rawSet.rbResetTorques(this.handle,t)}addForce(t,r){const e=h.intoRaw(t);this.rawSet.rbAddForce(this.handle,e,r),e.free()}applyImpulse(t,r){const e=h.intoRaw(t);this.rawSet.rbApplyImpulse(this.handle,e,r),e.free()}addTorque(t,r){this.rawSet.rbAddTorque(this.handle,t,r)}applyTorqueImpulse(t,r){this.rawSet.rbApplyTorqueImpulse(this.handle,t,r)}addForceAtPoint(t,r,e){const s=h.intoRaw(t),a=h.intoRaw(r);this.rawSet.rbAddForceAtPoint(this.handle,s,a,e),s.free(),a.free()}applyImpulseAtPoint(t,r,e){const s=h.intoRaw(t),a=h.intoRaw(r);this.rawSet.rbApplyImpulseAtPoint(this.handle,s,a,e),s.free(),a.free()}}class W{constructor(t){this.enabled=!0,this.status=t,this.translation=h.zeros(),this.rotation=A.identity(),this.gravityScale=1,this.linvel=h.zeros(),this.mass=0,this.massOnly=!1,this.centerOfMass=h.zeros(),this.translationsEnabledX=!0,this.translationsEnabledY=!0,this.angvel=0,this.principalAngularInertia=0,this.rotationsEnabled=!0,this.linearDamping=0,this.angularDamping=0,this.canSleep=!0,this.sleeping=!1,this.ccdEnabled=!1,this.dominanceGroup=0}static dynamic(){return new W(B.Dynamic)}static kinematicPositionBased(){return new W(B.KinematicPositionBased)}static kinematicVelocityBased(){return new W(B.KinematicVelocityBased)}static fixed(){return new W(B.Fixed)}static newDynamic(){return new W(B.Dynamic)}static newKinematicPositionBased(){return new W(B.KinematicPositionBased)}static newKinematicVelocityBased(){return new W(B.KinematicVelocityBased)}static newStatic(){return new W(B.Fixed)}setDominanceGroup(t){return this.dominanceGroup=t,this}setEnabled(t){return this.enabled=t,this}setTranslation(t,r){if(typeof t!="number"||typeof r!="number")throw TypeError("The translation components must be numbers.");return this.translation={x:t,y:r},this}setRotation(t){return this.rotation=t,this}setGravityScale(t){return this.gravityScale=t,this}setAdditionalMass(t){return this.mass=t,this.massOnly=!0,this}setLinvel(t,r){if(typeof t!="number"||typeof r!="number")throw TypeError("The linvel components must be numbers.");return this.linvel={x:t,y:r},this}setAngvel(t){return this.angvel=t,this}setAdditionalMassProperties(t,r,e){return this.mass=t,h.copy(this.centerOfMass,r),this.principalAngularInertia=e,this.massOnly=!1,this}enabledTranslations(t,r){return this.translationsEnabledX=t,this.translationsEnabledY=r,this}restrictTranslations(t,r){return this.enabledTranslations(t,r)}lockTranslations(){return this.restrictTranslations(!1,!1)}lockRotations(){return this.rotationsEnabled=!1,this}setLinearDamping(t){return this.linearDamping=t,this}setAngularDamping(t){return this.angularDamping=t,this}setCanSleep(t){return this.canSleep=t,this}setSleeping(t){return this.sleeping=t,this}setCcdEnabled(t){return this.ccdEnabled=t,this}setUserData(t){return this.userData=t,this}}class zt{constructor(){this.fconv=new Float64Array(1),this.uconv=new Uint32Array(this.fconv.buffer),this.data=new Array,this.size=0}set(t,r){let e=this.index(t);for(;this.data.length<=e;)this.data.push(null);this.data[e]==null&&(this.size+=1),this.data[e]=r}len(){return this.size}delete(t){let r=this.index(t);r<this.data.length&&(this.data[r]!=null&&(this.size-=1),this.data[r]=null)}clear(){this.data=new Array}get(t){let r=this.index(t);return r<this.data.length?this.data[r]:null}forEach(t){for(const r of this.data)r!=null&&t(r)}getAll(){return this.data.filter(t=>t!=null)}index(t){return this.fconv[0]=t,this.uconv[0]}}class Wr{constructor(t){this.raw=t||new M,this.map=new zt,t&&t.forEachRigidBodyHandle(r=>{this.map.set(r,new sr(t,null,r))})}free(){this.raw&&this.raw.free(),this.raw=void 0,this.map&&this.map.clear(),this.map=void 0}finalizeDeserialization(t){this.map.forEach(r=>r.finalizeDeserialization(t))}createRigidBody(t,r){let e=h.intoRaw(r.translation),s=A.intoRaw(r.rotation),a=h.intoRaw(r.linvel),o=h.intoRaw(r.centerOfMass),c=this.raw.createRigidBody(r.enabled,e,s,r.gravityScale,r.mass,r.massOnly,o,a,r.angvel,r.principalAngularInertia,r.translationsEnabledX,r.translationsEnabledY,r.rotationsEnabled,r.linearDamping,r.angularDamping,r.status,r.canSleep,r.sleeping,r.ccdEnabled,r.dominanceGroup);e.free(),s.free(),a.free(),o.free();const p=new sr(this.raw,t,c);return p.userData=r.userData,this.map.set(c,p),p}remove(t,r,e,s,a){for(let o=0;o<this.raw.rbNumColliders(t);o+=1)e.unmap(this.raw.rbCollider(t,o));s.forEachJointHandleAttachedToRigidBody(t,o=>s.unmap(o)),a.forEachJointHandleAttachedToRigidBody(t,o=>a.unmap(o)),this.raw.remove(t,r.raw,e.raw,s.raw,a.raw),this.map.delete(t)}len(){return this.map.len()}contains(t){return this.get(t)!=null}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}forEachActiveRigidBody(t,r){t.forEachActiveRigidBodyHandle(e=>{r(this.get(e))})}getAll(){return this.map.getAll()}}class Jr{constructor(t){this.raw=t||new Y}free(){this.raw&&this.raw.free(),this.raw=void 0}get dt(){return this.raw.dt}get erp(){return this.raw.erp}get allowedLinearError(){return this.raw.allowedLinearError}get predictionDistance(){return this.raw.predictionDistance}get maxVelocityIterations(){return this.raw.maxVelocityIterations}get maxVelocityFrictionIterations(){return this.raw.maxVelocityFrictionIterations}get maxStabilizationIterations(){return this.raw.maxStabilizationIterations}get minIslandSize(){return this.raw.minIslandSize}get maxCcdSubsteps(){return this.raw.maxCcdSubsteps}set dt(t){this.raw.dt=t}set erp(t){this.raw.erp=t}set allowedLinearError(t){this.raw.allowedLinearError=t}set predictionDistance(t){this.raw.predictionDistance=t}set maxVelocityIterations(t){this.raw.maxVelocityIterations=t}set maxVelocityFrictionIterations(t){this.raw.maxVelocityFrictionIterations=t}set maxStabilizationIterations(t){this.raw.maxStabilizationIterations=t}set minIslandSize(t){this.raw.minIslandSize=t}set maxCcdSubsteps(t){this.raw.maxCcdSubsteps=t}}var H;(function(n){n[n.Revolute=0]="Revolute",n[n.Fixed=1]="Fixed",n[n.Prismatic=2]="Prismatic"})(H||(H={}));var nr;(function(n){n[n.AccelerationBased=0]="AccelerationBased",n[n.ForceBased=1]="ForceBased"})(nr||(nr={}));class ${constructor(t,r,e){this.rawSet=t,this.bodySet=r,this.handle=e}static newTyped(t,r,e){switch(t.jointType(e)){case H.Revolute:return new Ur(t,r,e);case H.Prismatic:return new qr(t,r,e);case H.Fixed:return new Vr(t,r,e);default:return new $(t,r,e)}}finalizeDeserialization(t){this.bodySet=t}isValid(){return this.rawSet.contains(this.handle)}body1(){return this.bodySet.get(this.rawSet.jointBodyHandle1(this.handle))}body2(){return this.bodySet.get(this.rawSet.jointBodyHandle2(this.handle))}type(){return this.rawSet.jointType(this.handle)}anchor1(){return h.fromRaw(this.rawSet.jointAnchor1(this.handle))}anchor2(){return h.fromRaw(this.rawSet.jointAnchor2(this.handle))}setAnchor1(t){const r=h.intoRaw(t);this.rawSet.jointSetAnchor1(this.handle,r),r.free()}setAnchor2(t){const r=h.intoRaw(t);this.rawSet.jointSetAnchor2(this.handle,r),r.free()}setContactsEnabled(t){this.rawSet.jointSetContactsEnabled(this.handle,t)}contactsEnabled(){return this.rawSet.jointContactsEnabled(this.handle)}}class ar extends ${limitsEnabled(){return this.rawSet.jointLimitsEnabled(this.handle,this.rawAxis())}limitsMin(){return this.rawSet.jointLimitsMin(this.handle,this.rawAxis())}limitsMax(){return this.rawSet.jointLimitsMax(this.handle,this.rawAxis())}setLimits(t,r){this.rawSet.jointSetLimits(this.handle,this.rawAxis(),t,r)}configureMotorModel(t){this.rawSet.jointConfigureMotorModel(this.handle,this.rawAxis(),t)}configureMotorVelocity(t,r){this.rawSet.jointConfigureMotorVelocity(this.handle,this.rawAxis(),t,r)}configureMotorPosition(t,r,e){this.rawSet.jointConfigureMotorPosition(this.handle,this.rawAxis(),t,r,e)}configureMotor(t,r,e,s){this.rawSet.jointConfigureMotor(this.handle,this.rawAxis(),t,r,e,s)}}class Vr extends ${}class qr extends ar{rawAxis(){return At.X}}class Ur extends ar{rawAxis(){return At.AngX}}class ft{constructor(){}static fixed(t,r,e,s){let a=new ft;return a.anchor1=t,a.anchor2=e,a.frame1=r,a.frame2=s,a.jointType=H.Fixed,a}static revolute(t,r){let e=new ft;return e.anchor1=t,e.anchor2=r,e.jointType=H.Revolute,e}static prismatic(t,r,e){let s=new ft;return s.anchor1=t,s.anchor2=r,s.axis=e,s.jointType=H.Prismatic,s}intoRaw(){let t=h.intoRaw(this.anchor1),r=h.intoRaw(this.anchor2),e,s,a=!1,o=0,c=0;switch(this.jointType){case H.Fixed:let p=A.intoRaw(this.frame1),u=A.intoRaw(this.frame2);s=z.fixed(t,p,r,u),p.free(),u.free();break;case H.Prismatic:e=h.intoRaw(this.axis),this.limitsEnabled&&(a=!0,o=this.limits[0],c=this.limits[1]),s=z.prismatic(t,r,e,a,o,c),e.free();break;case H.Revolute:s=z.revolute(t,r);break}return t.free(),r.free(),s}}class Xr{constructor(t){this.raw=t||new N,this.map=new zt,t&&t.forEachJointHandle(r=>{this.map.set(r,$.newTyped(t,null,r))})}free(){this.raw&&this.raw.free(),this.raw=void 0,this.map&&this.map.clear(),this.map=void 0}finalizeDeserialization(t){this.map.forEach(r=>r.finalizeDeserialization(t))}createJoint(t,r,e,s,a){const o=r.intoRaw(),c=this.raw.createJoint(o,e,s,a);o.free();let p=$.newTyped(this.raw,t,c);return this.map.set(c,p),p}remove(t,r){this.raw.remove(t,r),this.unmap(t)}forEachJointHandleAttachedToRigidBody(t,r){this.raw.forEachJointAttachedToRigidBody(t,r)}unmap(t){this.map.delete(t)}len(){return this.map.len()}contains(t){return this.get(t)!=null}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}getAll(){return this.map.getAll()}}class Z{constructor(t,r){this.rawSet=t,this.handle=r}static newTyped(t,r){switch(t.jointType(r)){case H.Revolute:return new Qr(t,r);case H.Prismatic:return new Yr(t,r);case H.Fixed:return new Kr(t,r);default:return new Z(t,r)}}isValid(){return this.rawSet.contains(this.handle)}setContactsEnabled(t){this.rawSet.jointSetContactsEnabled(this.handle,t)}contactsEnabled(){return this.rawSet.jointContactsEnabled(this.handle)}}class or extends Z{}class Kr extends Z{}class Yr extends or{rawAxis(){return At.X}}class Qr extends or{rawAxis(){return At.AngX}}class $r{constructor(t){this.raw=t||new O,this.map=new zt,t&&t.forEachJointHandle(r=>{this.map.set(r,Z.newTyped(this.raw,r))})}free(){this.raw&&this.raw.free(),this.raw=void 0,this.map&&this.map.clear(),this.map=void 0}createJoint(t,r,e,s){const a=t.intoRaw(),o=this.raw.createJoint(a,r,e,s);a.free();let c=Z.newTyped(this.raw,o);return this.map.set(o,c),c}remove(t,r){this.raw.remove(t,r),this.map.delete(t)}unmap(t){this.map.delete(t)}len(){return this.map.len()}contains(t){return this.get(t)!=null}get(t){return this.map.get(t)}forEach(t){this.map.forEach(t)}forEachJointHandleAttachedToRigidBody(t,r){this.raw.forEachJointAttachedToRigidBody(t,r)}getAll(){return this.map.getAll()}}var mt;(function(n){n[n.Average=0]="Average",n[n.Min=1]="Min",n[n.Multiply=2]="Multiply",n[n.Max=3]="Max"})(mt||(mt={}));class Zr{constructor(t){this.raw=t||new et}free(){this.raw&&this.raw.free(),this.raw=void 0}}class te{constructor(t){this.raw=t||new L}free(){this.raw&&this.raw.free(),this.raw=void 0}forEachActiveRigidBodyHandle(t){this.raw.forEachActiveRigidBodyHandle(t)}}class re{constructor(t){this.raw=t||new K}free(){this.raw&&this.raw.free(),this.raw=void 0}}class ee{constructor(t){this.raw=t||new J,this.tempManifold=new ie(null)}free(){this.raw&&this.raw.free(),this.raw=void 0}contactsWith(t,r){this.raw.contacts_with(t,r)}intersectionsWith(t,r){this.raw.intersections_with(t,r)}contactPair(t,r,e){const s=this.raw.contact_pair(t,r);if(s){const a=s.collider1()!=t;let o;for(o=0;o<s.numContactManifolds();++o)this.tempManifold.raw=s.contactManifold(o),this.tempManifold.raw&&e(this.tempManifold,a),this.tempManifold.free();s.free()}}intersectionPair(t,r){return this.raw.intersection_pair(t,r)}}class ie{constructor(t){this.raw=t}free(){this.raw&&this.raw.free(),this.raw=void 0}normal(){return h.fromRaw(this.raw.normal())}localNormal1(){return h.fromRaw(this.raw.local_n1())}localNormal2(){return h.fromRaw(this.raw.local_n2())}subshape1(){return this.raw.subshape1()}subshape2(){return this.raw.subshape2()}numContacts(){return this.raw.num_contacts()}localContactPoint1(t){return h.fromRaw(this.raw.contact_local_p1(t))}localContactPoint2(t){return h.fromRaw(this.raw.contact_local_p2(t))}contactDist(t){return this.raw.contact_dist(t)}contactFid1(t){return this.raw.contact_fid1(t)}contactFid2(t){return this.raw.contact_fid2(t)}contactImpulse(t){return this.raw.contact_impulse(t)}contactTangentImpulse(t){return this.raw.contact_tangent_impulse(t)}numSolverContacts(){return this.raw.num_solver_contacts()}solverContactPoint(t){return h.fromRaw(this.raw.solver_contact_point(t))}solverContactDist(t){return this.raw.solver_contact_dist(t)}solverContactFriction(t){return this.raw.solver_contact_friction(t)}solverContactRestitution(t){return this.raw.solver_contact_restitution(t)}solverContactTangentVelocity(t){return h.fromRaw(this.raw.solver_contact_tangent_velocity(t))}}class st{constructor(t,r,e,s,a){this.distance=t,this.point1=r,this.point2=e,this.normal1=s,this.normal2=a}static fromRaw(t){if(!t)return null;const r=new st(t.distance(),h.fromRaw(t.point1()),h.fromRaw(t.point2()),h.fromRaw(t.normal1()),h.fromRaw(t.normal2()));return t.free(),r}}var nt;(function(n){n[n.Vertex=0]="Vertex",n[n.Face=1]="Face",n[n.Unknown=2]="Unknown"})(nt||(nt={}));class bt{constructor(t,r){this.point=t,this.isInside=r}static fromRaw(t){if(!t)return null;const r=new bt(h.fromRaw(t.point()),t.isInside());return t.free(),r}}class yt{constructor(t,r,e,s,a){this.featureType=nt.Unknown,this.featureId=void 0,this.collider=t,this.point=r,this.isInside=e,a!==void 0&&(this.featureId=a),s!==void 0&&(this.featureType=s)}static fromRaw(t,r){if(!r)return null;const e=new yt(t.get(r.colliderHandle()),h.fromRaw(r.point()),r.isInside(),r.featureType(),r.featureId());return r.free(),e}}class Tc{constructor(t,r){this.origin=t,this.dir=r}pointAt(t){return{x:this.origin.x+this.dir.x*t,y:this.origin.y+this.dir.y*t}}}class gt{constructor(t,r,e,s){this.featureType=nt.Unknown,this.featureId=void 0,this.toi=t,this.normal=r,s!==void 0&&(this.featureId=s),e!==void 0&&(this.featureType=e)}static fromRaw(t){if(!t)return null;const r=new gt(t.toi(),h.fromRaw(t.normal()),t.featureType(),t.featureId());return t.free(),r}}class St{constructor(t,r,e,s,a){this.featureType=nt.Unknown,this.featureId=void 0,this.collider=t,this.toi=r,this.normal=e,a!==void 0&&(this.featureId=a),s!==void 0&&(this.featureType=s)}static fromRaw(t,r){if(!r)return null;const e=new St(t.get(r.colliderHandle()),r.toi(),h.fromRaw(r.normal()),r.featureType(),r.featureId());return r.free(),e}}class Nt{constructor(t,r){this.collider=t,this.toi=r}static fromRaw(t,r){if(!r)return null;const e=new Nt(t.get(r.colliderHandle()),r.toi());return r.free(),e}}class at{constructor(t,r,e,s,a){this.toi=t,this.witness1=r,this.witness2=e,this.normal1=s,this.normal2=a}static fromRaw(t,r){if(!r)return null;const e=new at(r.toi(),h.fromRaw(r.witness1()),h.fromRaw(r.witness2()),h.fromRaw(r.normal1()),h.fromRaw(r.normal2()));return r.free(),e}}class vt extends at{constructor(t,r,e,s,a,o){super(r,e,s,a,o),this.collider=t}static fromRaw(t,r){if(!r)return null;const e=new vt(t.get(r.colliderHandle()),r.toi(),h.fromRaw(r.witness1()),h.fromRaw(r.witness2()),h.fromRaw(r.normal1()),h.fromRaw(r.normal2()));return r.free(),e}}class F{static fromRaw(t,r){const e=t.coShapeType(r);let s,a,o,c,p,u,w;switch(e){case C.Ball:return new lr(t.coRadius(r));case C.Cuboid:return s=t.coHalfExtents(r),new hr(s.x,s.y);case C.RoundCuboid:return s=t.coHalfExtents(r),a=t.coRoundRadius(r),new dr(s.x,s.y,a);case C.Capsule:return p=t.coHalfHeight(r),u=t.coRadius(r),new pr(p,u);case C.Segment:return o=t.coVertices(r),new ur(h.new(o[0],o[1]),h.new(o[2],o[3]));case C.Polyline:return o=t.coVertices(r),c=t.coIndices(r),new fr(o,c);case C.Triangle:return o=t.coVertices(r),new wr(h.new(o[0],o[1]),h.new(o[2],o[3]),h.new(o[4],o[5]));case C.RoundTriangle:return o=t.coVertices(r),a=t.coRoundRadius(r),new _r(h.new(o[0],o[1]),h.new(o[2],o[3]),h.new(o[4],o[5]),a);case C.HalfSpace:return w=h.fromRaw(t.coHalfspaceNormal(r)),new cr(w);case C.TriMesh:return o=t.coVertices(r),c=t.coIndices(r),new mr(o,c);case C.HeightField:const _=t.coHeightfieldScale(r),m=t.coHeightfieldHeights(r);return new br(m,_);case C.ConvexPolygon:return o=t.coVertices(r),new Lt(o,!1);case C.RoundConvexPolygon:return o=t.coVertices(r),a=t.coRoundRadius(r),new Ot(o,a,!1);default:throw new Error("unknown shape type: "+e)}}castShape(t,r,e,s,a,o,c,p,u){let w=h.intoRaw(t),_=A.intoRaw(r),m=h.intoRaw(e),y=h.intoRaw(a),P=A.intoRaw(o),G=h.intoRaw(c),q=this.intoRaw(),U=s.intoRaw(),rt=at.fromRaw(null,q.castShape(w,_,m,U,y,P,G,p,u));return w.free(),_.free(),m.free(),y.free(),P.free(),G.free(),q.free(),U.free(),rt}intersectsShape(t,r,e,s,a){let o=h.intoRaw(t),c=A.intoRaw(r),p=h.intoRaw(s),u=A.intoRaw(a),w=this.intoRaw(),_=e.intoRaw(),m=w.intersectsShape(o,c,_,p,u);return o.free(),c.free(),p.free(),u.free(),w.free(),_.free(),m}contactShape(t,r,e,s,a,o){let c=h.intoRaw(t),p=A.intoRaw(r),u=h.intoRaw(s),w=A.intoRaw(a),_=this.intoRaw(),m=e.intoRaw(),y=st.fromRaw(_.contactShape(c,p,m,u,w,o));return c.free(),p.free(),u.free(),w.free(),_.free(),m.free(),y}containsPoint(t,r,e){let s=h.intoRaw(t),a=A.intoRaw(r),o=h.intoRaw(e),c=this.intoRaw(),p=c.containsPoint(s,a,o);return s.free(),a.free(),o.free(),c.free(),p}projectPoint(t,r,e,s){let a=h.intoRaw(t),o=A.intoRaw(r),c=h.intoRaw(e),p=this.intoRaw(),u=bt.fromRaw(p.projectPoint(a,o,c,s));return a.free(),o.free(),c.free(),p.free(),u}intersectsRay(t,r,e,s){let a=h.intoRaw(r),o=A.intoRaw(e),c=h.intoRaw(t.origin),p=h.intoRaw(t.dir),u=this.intoRaw(),w=u.intersectsRay(a,o,c,p,s);return a.free(),o.free(),c.free(),p.free(),u.free(),w}castRay(t,r,e,s,a){let o=h.intoRaw(r),c=A.intoRaw(e),p=h.intoRaw(t.origin),u=h.intoRaw(t.dir),w=this.intoRaw(),_=w.castRay(o,c,p,u,s,a);return o.free(),c.free(),p.free(),u.free(),w.free(),_}castRayAndGetNormal(t,r,e,s,a){let o=h.intoRaw(r),c=A.intoRaw(e),p=h.intoRaw(t.origin),u=h.intoRaw(t.dir),w=this.intoRaw(),_=gt.fromRaw(w.castRayAndGetNormal(o,c,p,u,s,a));return o.free(),c.free(),p.free(),u.free(),w.free(),_}}var C;(function(n){n[n.Ball=0]="Ball",n[n.Cuboid=1]="Cuboid",n[n.Capsule=2]="Capsule",n[n.Segment=3]="Segment",n[n.Polyline=4]="Polyline",n[n.Triangle=5]="Triangle",n[n.TriMesh=6]="TriMesh",n[n.HeightField=7]="HeightField",n[n.ConvexPolygon=9]="ConvexPolygon",n[n.RoundCuboid=10]="RoundCuboid",n[n.RoundTriangle=11]="RoundTriangle",n[n.RoundConvexPolygon=12]="RoundConvexPolygon",n[n.HalfSpace=13]="HalfSpace"})(C||(C={}));class lr extends F{constructor(t){super(),this.type=C.Ball,this.radius=t}intoRaw(){return b.ball(this.radius)}}class cr extends F{constructor(t){super(),this.type=C.HalfSpace,this.normal=t}intoRaw(){let t=h.intoRaw(this.normal),r=b.halfspace(t);return t.free(),r}}class hr extends F{constructor(t,r){super(),this.type=C.Cuboid,this.halfExtents=h.new(t,r)}intoRaw(){return b.cuboid(this.halfExtents.x,this.halfExtents.y)}}class dr extends F{constructor(t,r,e){super(),this.type=C.RoundCuboid,this.halfExtents=h.new(t,r),this.borderRadius=e}intoRaw(){return b.roundCuboid(this.halfExtents.x,this.halfExtents.y,this.borderRadius)}}class pr extends F{constructor(t,r){super(),this.type=C.Capsule,this.halfHeight=t,this.radius=r}intoRaw(){return b.capsule(this.halfHeight,this.radius)}}class ur extends F{constructor(t,r){super(),this.type=C.Segment,this.a=t,this.b=r}intoRaw(){let t=h.intoRaw(this.a),r=h.intoRaw(this.b),e=b.segment(t,r);return t.free(),r.free(),e}}class wr extends F{constructor(t,r,e){super(),this.type=C.Triangle,this.a=t,this.b=r,this.c=e}intoRaw(){let t=h.intoRaw(this.a),r=h.intoRaw(this.b),e=h.intoRaw(this.c),s=b.triangle(t,r,e);return t.free(),r.free(),e.free(),s}}class _r extends F{constructor(t,r,e,s){super(),this.type=C.RoundTriangle,this.a=t,this.b=r,this.c=e,this.borderRadius=s}intoRaw(){let t=h.intoRaw(this.a),r=h.intoRaw(this.b),e=h.intoRaw(this.c),s=b.roundTriangle(t,r,e,this.borderRadius);return t.free(),r.free(),e.free(),s}}class fr extends F{constructor(t,r){super(),this.type=C.Polyline,this.vertices=t,this.indices=r??new Uint32Array(0)}intoRaw(){return b.polyline(this.vertices,this.indices)}}class mr extends F{constructor(t,r){super(),this.type=C.TriMesh,this.vertices=t,this.indices=r}intoRaw(){return b.trimesh(this.vertices,this.indices)}}class Lt extends F{constructor(t,r){super(),this.type=C.ConvexPolygon,this.vertices=t,this.skipConvexHullComputation=!!r}intoRaw(){return this.skipConvexHullComputation?b.convexPolyline(this.vertices):b.convexHull(this.vertices)}}class Ot extends F{constructor(t,r,e){super(),this.type=C.RoundConvexPolygon,this.vertices=t,this.borderRadius=r,this.skipConvexHullComputation=!!e}intoRaw(){return this.skipConvexHullComputation?b.roundConvexPolyline(this.vertices,this.borderRadius):b.roundConvexHull(this.vertices,this.borderRadius)}}class br extends F{constructor(t,r){super(),this.type=C.HeightField,this.heights=t,this.scale=r}intoRaw(){let t=h.intoRaw(this.scale),r=b.heightfield(this.heights,t);return t.free(),r}}var Wt;(function(n){n[n.DYNAMIC_DYNAMIC=1]="DYNAMIC_DYNAMIC",n[n.DYNAMIC_KINEMATIC=12]="DYNAMIC_KINEMATIC",n[n.DYNAMIC_FIXED=2]="DYNAMIC_FIXED",n[n.KINEMATIC_KINEMATIC=52224]="KINEMATIC_KINEMATIC",n[n.KINEMATIC_FIXED=8704]="KINEMATIC_FIXED",n[n.FIXED_FIXED=32]="FIXED_FIXED",n[n.DEFAULT=15]="DEFAULT",n[n.ALL=60943]="ALL"})(Wt||(Wt={}));class yr{constructor(t,r,e,s){this.colliderSet=t,this.handle=r,this._parent=e,this._shape=s}finalizeDeserialization(t){this.handle!=null&&(this._parent=t.get(this.colliderSet.raw.coParent(this.handle)))}ensureShapeIsCached(){this._shape||(this._shape=F.fromRaw(this.colliderSet.raw,this.handle))}get shape(){return this.ensureShapeIsCached(),this._shape}isValid(){return this.colliderSet.raw.contains(this.handle)}translation(){return h.fromRaw(this.colliderSet.raw.coTranslation(this.handle))}rotation(){return A.fromRaw(this.colliderSet.raw.coRotation(this.handle))}isSensor(){return this.colliderSet.raw.coIsSensor(this.handle)}setSensor(t){this.colliderSet.raw.coSetSensor(this.handle,t)}setShape(t){let r=t.intoRaw();this.colliderSet.raw.coSetShape(this.handle,r),r.free(),this._shape=t}setEnabled(t){this.colliderSet.raw.coSetEnabled(this.handle,t)}isEnabled(){return this.colliderSet.raw.coIsEnabled(this.handle)}setRestitution(t){this.colliderSet.raw.coSetRestitution(this.handle,t)}setFriction(t){this.colliderSet.raw.coSetFriction(this.handle,t)}frictionCombineRule(){return this.colliderSet.raw.coFrictionCombineRule(this.handle)}setFrictionCombineRule(t){this.colliderSet.raw.coSetFrictionCombineRule(this.handle,t)}restitutionCombineRule(){return this.colliderSet.raw.coRestitutionCombineRule(this.handle)}setRestitutionCombineRule(t){this.colliderSet.raw.coSetRestitutionCombineRule(this.handle,t)}setCollisionGroups(t){this.colliderSet.raw.coSetCollisionGroups(this.handle,t)}setSolverGroups(t){this.colliderSet.raw.coSetSolverGroups(this.handle,t)}activeHooks(){return this.colliderSet.raw.coActiveHooks(this.handle)}setActiveHooks(t){this.colliderSet.raw.coSetActiveHooks(this.handle,t)}activeEvents(){return this.colliderSet.raw.coActiveEvents(this.handle)}setActiveEvents(t){this.colliderSet.raw.coSetActiveEvents(this.handle,t)}activeCollisionTypes(){return this.colliderSet.raw.coActiveCollisionTypes(this.handle)}setContactForceEventThreshold(t){return this.colliderSet.raw.coSetContactForceEventThreshold(this.handle,t)}contactForceEventThreshold(){return this.colliderSet.raw.coContactForceEventThreshold(this.handle)}setActiveCollisionTypes(t){this.colliderSet.raw.coSetActiveCollisionTypes(this.handle,t)}setDensity(t){this.colliderSet.raw.coSetDensity(this.handle,t)}setMass(t){this.colliderSet.raw.coSetMass(this.handle,t)}setMassProperties(t,r,e){let s=h.intoRaw(r);this.colliderSet.raw.coSetMassProperties(this.handle,t,s,e),s.free()}setTranslation(t){this.colliderSet.raw.coSetTranslation(this.handle,t.x,t.y)}setTranslationWrtParent(t){this.colliderSet.raw.coSetTranslationWrtParent(this.handle,t.x,t.y)}setRotation(t){this.colliderSet.raw.coSetRotation(this.handle,t)}setRotationWrtParent(t){this.colliderSet.raw.coSetRotationWrtParent(this.handle,t)}shapeType(){return this.colliderSet.raw.coShapeType(this.handle)}halfExtents(){return h.fromRaw(this.colliderSet.raw.coHalfExtents(this.handle))}setHalfExtents(t){const r=h.intoRaw(t);this.colliderSet.raw.coSetHalfExtents(this.handle,r)}radius(){return this.colliderSet.raw.coRadius(this.handle)}setRadius(t){this.colliderSet.raw.coSetRadius(this.handle,t)}roundRadius(){return this.colliderSet.raw.coRoundRadius(this.handle)}setRoundRadius(t){this.colliderSet.raw.coSetRoundRadius(this.handle,t)}halfHeight(){return this.colliderSet.raw.coHalfHeight(this.handle)}setHalfHeight(t){this.colliderSet.raw.coSetHalfHeight(this.handle,t)}vertices(){return this.colliderSet.raw.coVertices(this.handle)}indices(){return this.colliderSet.raw.coIndices(this.handle)}heightfieldHeights(){return this.colliderSet.raw.coHeightfieldHeights(this.handle)}heightfieldScale(){let t=this.colliderSet.raw.coHeightfieldScale(this.handle);return h.fromRaw(t)}parent(){return this._parent}friction(){return this.colliderSet.raw.coFriction(this.handle)}restitution(){return this.colliderSet.raw.coRestitution(this.handle)}density(){return this.colliderSet.raw.coDensity(this.handle)}mass(){return this.colliderSet.raw.coMass(this.handle)}volume(){return this.colliderSet.raw.coVolume(this.handle)}collisionGroups(){return this.colliderSet.raw.coCollisionGroups(this.handle)}solverGroups(){return this.colliderSet.raw.coSolverGroups(this.handle)}containsPoint(t){let r=h.intoRaw(t),e=this.colliderSet.raw.coContainsPoint(this.handle,r);return r.free(),e}projectPoint(t,r){let e=h.intoRaw(t),s=bt.fromRaw(this.colliderSet.raw.coProjectPoint(this.handle,e,r));return e.free(),s}intersectsRay(t,r){let e=h.intoRaw(t.origin),s=h.intoRaw(t.dir),a=this.colliderSet.raw.coIntersectsRay(this.handle,e,s,r);return e.free(),s.free(),a}castShape(t,r,e,s,a,o,c){let p=h.intoRaw(t),u=h.intoRaw(e),w=A.intoRaw(s),_=h.intoRaw(a),m=r.intoRaw(),y=at.fromRaw(this.colliderSet,this.colliderSet.raw.coCastShape(this.handle,p,m,u,w,_,o,c));return p.free(),u.free(),w.free(),_.free(),m.free(),y}castCollider(t,r,e,s,a){let o=h.intoRaw(t),c=h.intoRaw(e),p=vt.fromRaw(this.colliderSet,this.colliderSet.raw.coCastCollider(this.handle,o,r.handle,c,s,a));return o.free(),c.free(),p}intersectsShape(t,r,e){let s=h.intoRaw(r),a=A.intoRaw(e),o=t.intoRaw(),c=this.colliderSet.raw.coIntersectsShape(this.handle,o,s,a);return s.free(),a.free(),o.free(),c}contactShape(t,r,e,s){let a=h.intoRaw(r),o=A.intoRaw(e),c=t.intoRaw(),p=st.fromRaw(this.colliderSet.raw.coContactShape(this.handle,c,a,o,s));return a.free(),o.free(),c.free(),p}contactCollider(t,r){return st.fromRaw(this.colliderSet.raw.coContactCollider(this.handle,t.handle,r))}castRay(t,r,e){let s=h.intoRaw(t.origin),a=h.intoRaw(t.dir),o=this.colliderSet.raw.coCastRay(this.handle,s,a,r,e);return s.free(),a.free(),o}castRayAndGetNormal(t,r,e){let s=h.intoRaw(t.origin),a=h.intoRaw(t.dir),o=gt.fromRaw(this.colliderSet.raw.coCastRayAndGetNormal(this.handle,s,a,r,e));return s.free(),a.free(),o}}var tt;(function(n){n[n.Density=0]="Density",n[n.Mass=1]="Mass",n[n.MassProps=2]="MassProps"})(tt||(tt={}));class D{constructor(t){this.enabled=!0,this.shape=t,this.massPropsMode=tt.Density,this.density=1,this.friction=.5,this.restitution=0,this.rotation=A.identity(),this.translation=h.zeros(),this.isSensor=!1,this.collisionGroups=4294967295,this.solverGroups=4294967295,this.frictionCombineRule=mt.Average,this.restitutionCombineRule=mt.Average,this.activeCollisionTypes=Wt.DEFAULT,this.activeEvents=0,this.activeHooks=0,this.mass=0,this.centerOfMass=h.zeros(),this.contactForceEventThreshold=0,this.principalAngularInertia=0,this.rotationsEnabled=!0}static ball(t){const r=new lr(t);return new D(r)}static capsule(t,r){const e=new pr(t,r);return new D(e)}static segment(t,r){const e=new ur(t,r);return new D(e)}static triangle(t,r,e){const s=new wr(t,r,e);return new D(s)}static roundTriangle(t,r,e,s){const a=new _r(t,r,e,s);return new D(a)}static polyline(t,r){const e=new fr(t,r);return new D(e)}static trimesh(t,r){const e=new mr(t,r);return new D(e)}static cuboid(t,r){const e=new hr(t,r);return new D(e)}static roundCuboid(t,r,e){const s=new dr(t,r,e);return new D(s)}static halfspace(t){const r=new cr(t);return new D(r)}static heightfield(t,r){const e=new br(t,r);return new D(e)}static convexHull(t){const r=new Lt(t,!1);return new D(r)}static convexPolyline(t){const r=new Lt(t,!0);return new D(r)}static roundConvexHull(t,r){const e=new Ot(t,r,!1);return new D(e)}static roundConvexPolyline(t,r){const e=new Ot(t,r,!0);return new D(e)}setTranslation(t,r){if(typeof t!="number"||typeof r!="number")throw TypeError("The translation components must be numbers.");return this.translation={x:t,y:r},this}setRotation(t){return this.rotation=t,this}setSensor(t){return this.isSensor=t,this}setEnabled(t){return this.enabled=t,this}setDensity(t){return this.massPropsMode=tt.Density,this.density=t,this}setMass(t){return this.massPropsMode=tt.Mass,this.mass=t,this}setMassProperties(t,r,e){return this.massPropsMode=tt.MassProps,this.mass=t,h.copy(this.centerOfMass,r),this.principalAngularInertia=e,this}setRestitution(t){return this.restitution=t,this}setFriction(t){return this.friction=t,this}setFrictionCombineRule(t){return this.frictionCombineRule=t,this}setRestitutionCombineRule(t){return this.restitutionCombineRule=t,this}setCollisionGroups(t){return this.collisionGroups=t,this}setSolverGroups(t){return this.solverGroups=t,this}setActiveHooks(t){return this.activeHooks=t,this}setActiveEvents(t){return this.activeEvents=t,this}setActiveCollisionTypes(t){return this.activeCollisionTypes=t,this}setContactForceEventThreshold(t){return this.contactForceEventThreshold=t,this}}class se{constructor(t){this.raw=t||new T,this.map=new zt,t&&t.forEachColliderHandle(r=>{this.map.set(r,new yr(this,r,null))})}free(){this.raw&&this.raw.free(),this.raw=void 0,this.map&&this.map.clear(),this.map=void 0}castClosure(t){return r=>{if(t)return t(this.get(r))}}finalizeDeserialization(t){this.map.forEach(r=>r.finalizeDeserialization(t))}createCollider(t,r,e){let s=e!=null&&e!=null;if(s&&isNaN(e))throw Error("Cannot create a collider with a parent rigid-body handle that is not a number.");let a=r.shape.intoRaw(),o=h.intoRaw(r.translation),c=A.intoRaw(r.rotation),p=h.intoRaw(r.centerOfMass),u=this.raw.createCollider(r.enabled,a,o,c,r.massPropsMode,r.mass,p,r.principalAngularInertia,r.density,r.friction,r.restitution,r.frictionCombineRule,r.restitutionCombineRule,r.isSensor,r.collisionGroups,r.solverGroups,r.activeCollisionTypes,r.activeHooks,r.activeEvents,r.contactForceEventThreshold,s,s?e:0,t.raw);a.free(),o.free(),c.free(),p.free();let w=s?t.get(e):null,_=new yr(this,u,w,r.shape);return this.map.set(u,_),_}remove(t,r,e,s){this.raw.remove(t,r.raw,e.raw,s),this.unmap(t)}unmap(t){this.map.delete(t)}get(t){return this.map.get(t)}len(){return this.map.len()}contains(t){return this.get(t)!=null}forEach(t){this.map.forEach(t)}getAll(){return this.map.getAll()}}class ne{constructor(t){this.raw=t||new xt}free(){this.raw&&this.raw.free(),this.raw=void 0}step(t,r,e,s,a,o,c,p,u,w,_,m){let y=h.intoRaw(t);_?this.raw.stepWithEvents(y,r.raw,e.raw,s.raw,a.raw,o.raw,c.raw,p.raw,u.raw,w.raw,_.raw,m,m?m.filterContactPair:null,m?m.filterIntersectionPair:null):this.raw.step(y,r.raw,e.raw,s.raw,a.raw,o.raw,c.raw,p.raw,u.raw,w.raw),y.free()}}var gr;(function(n){n[n.EXCLUDE_FIXED=1]="EXCLUDE_FIXED",n[n.EXCLUDE_KINEMATIC=2]="EXCLUDE_KINEMATIC",n[n.EXCLUDE_DYNAMIC=4]="EXCLUDE_DYNAMIC",n[n.EXCLUDE_SENSORS=8]="EXCLUDE_SENSORS",n[n.EXCLUDE_SOLIDS=16]="EXCLUDE_SOLIDS",n[n.ONLY_DYNAMIC=3]="ONLY_DYNAMIC",n[n.ONLY_KINEMATIC=5]="ONLY_KINEMATIC",n[n.ONLY_FIXED=6]="ONLY_FIXED"})(gr||(gr={}));class ae{constructor(t){this.raw=t||new ht}free(){this.raw&&this.raw.free(),this.raw=void 0}update(t,r){this.raw.update(t.raw,r.raw)}castRay(t,r,e,s,a,o,c,p,u,w){let _=h.intoRaw(e.origin),m=h.intoRaw(e.dir),y=Nt.fromRaw(r,this.raw.castRay(t.raw,r.raw,_,m,s,a,o,c,p,u,w));return _.free(),m.free(),y}castRayAndGetNormal(t,r,e,s,a,o,c,p,u,w){let _=h.intoRaw(e.origin),m=h.intoRaw(e.dir),y=St.fromRaw(r,this.raw.castRayAndGetNormal(t.raw,r.raw,_,m,s,a,o,c,p,u,w));return _.free(),m.free(),y}intersectionsWithRay(t,r,e,s,a,o,c,p,u,w,_){let m=h.intoRaw(e.origin),y=h.intoRaw(e.dir),P=G=>o(St.fromRaw(r,G));this.raw.intersectionsWithRay(t.raw,r.raw,m,y,s,a,P,c,p,u,w,_),m.free(),y.free()}intersectionWithShape(t,r,e,s,a,o,c,p,u,w){let _=h.intoRaw(e),m=A.intoRaw(s),y=a.intoRaw(),P=this.raw.intersectionWithShape(t.raw,r.raw,_,m,y,o,c,p,u,w);return _.free(),m.free(),y.free(),P}projectPoint(t,r,e,s,a,o,c,p,u){let w=h.intoRaw(e),_=yt.fromRaw(r,this.raw.projectPoint(t.raw,r.raw,w,s,a,o,c,p,u));return w.free(),_}projectPointAndGetFeature(t,r,e,s,a,o,c,p){let u=h.intoRaw(e),w=yt.fromRaw(r,this.raw.projectPointAndGetFeature(t.raw,r.raw,u,s,a,o,c,p));return u.free(),w}intersectionsWithPoint(t,r,e,s,a,o,c,p,u){let w=h.intoRaw(e);this.raw.intersectionsWithPoint(t.raw,r.raw,w,s,a,o,c,p,u),w.free()}castShape(t,r,e,s,a,o,c,p,u,w,_,m,y){let P=h.intoRaw(e),G=A.intoRaw(s),q=h.intoRaw(a),U=o.intoRaw(),rt=vt.fromRaw(r,this.raw.castShape(t.raw,r.raw,P,G,q,U,c,p,u,w,_,m,y));return P.free(),G.free(),q.free(),U.free(),rt}intersectionsWithShape(t,r,e,s,a,o,c,p,u,w,_){let m=h.intoRaw(e),y=A.intoRaw(s),P=a.intoRaw();this.raw.intersectionsWithShape(t.raw,r.raw,m,y,P,o,c,p,u,w,_),m.free(),y.free(),P.free()}collidersWithAabbIntersectingAabb(t,r,e){let s=h.intoRaw(t),a=h.intoRaw(r);this.raw.collidersWithAabbIntersectingAabb(s,a,e),s.free(),a.free()}}class Sr{constructor(t){this.raw=t||new Dt}free(){this.raw&&this.raw.free(),this.raw=void 0}serializeAll(t,r,e,s,a,o,c,p,u){let w=h.intoRaw(t);const _=this.raw.serializeAll(w,r.raw,e.raw,s.raw,a.raw,o.raw,c.raw,p.raw,u.raw);return w.free(),_}deserializeAll(t){return Jt.fromRaw(this.raw.deserializeAll(t))}}class oe{constructor(t,r){this.vertices=t,this.colors=r}}class le{constructor(t){this.raw=t||new Et}free(){this.raw&&this.raw.free(),this.raw=void 0,this.vertices=void 0,this.colors=void 0}render(t,r,e,s,a){this.raw.render(t.raw,r.raw,e.raw,s.raw,a.raw),this.vertices=this.raw.vertices(),this.colors=this.raw.colors()}}class ce{}class he{constructor(t,r,e,s,a){this.params=r,this.bodies=e,this.colliders=s,this.queries=a,this.raw=new It(t),this.rawCharacterCollision=new lt,this._applyImpulsesToDynamicBodies=!1,this._characterMass=null}free(){this.raw&&(this.raw.free(),this.rawCharacterCollision.free()),this.raw=void 0,this.rawCharacterCollision=void 0}up(){return this.raw.up()}setUp(t){let r=h.intoRaw(t);return this.raw.setUp(r)}applyImpulsesToDynamicBodies(){return this._applyImpulsesToDynamicBodies}setApplyImpulsesToDynamicBodies(t){this._applyImpulsesToDynamicBodies=t}characterMass(){return this._characterMass}setCharacterMass(t){this._characterMass=t}offset(){return this.raw.offset()}setOffset(t){this.raw.setOffset(t)}slideEnabled(){return this.raw.slideEnabled()}setSlideEnabled(t){this.raw.setSlideEnabled(t)}autostepMaxHeight(){return this.raw.autostepMaxHeight()}autostepMinWidth(){return this.raw.autostepMinWidth()}autostepIncludesDynamicBodies(){return this.raw.autostepIncludesDynamicBodies()}autostepEnabled(){return this.raw.autostepEnabled()}enableAutostep(t,r,e){this.raw.enableAutostep(t,r,e)}disableAutostep(){return this.raw.disableAutostep()}maxSlopeClimbAngle(){return this.raw.maxSlopeClimbAngle()}setMaxSlopeClimbAngle(t){this.raw.setMaxSlopeClimbAngle(t)}minSlopeSlideAngle(){return this.raw.minSlopeSlideAngle()}setMinSlopeSlideAngle(t){this.raw.setMinSlopeSlideAngle(t)}snapToGroundDistance(){return this.raw.snapToGroundDistance()}enableSnapToGround(t){this.raw.enableSnapToGround(t)}disableSnapToGround(){this.raw.disableSnapToGround()}snapToGroundEnabled(){return this.raw.snapToGroundEnabled()}computeColliderMovement(t,r,e,s,a){let o=h.intoRaw(r);this.raw.computeColliderMovement(this.params.dt,this.bodies.raw,this.colliders.raw,this.queries.raw,t.handle,o,this._applyImpulsesToDynamicBodies,this._characterMass,e,s,this.colliders.castClosure(a)),o.free()}computedMovement(){return h.fromRaw(this.raw.computedMovement())}computedGrounded(){return this.raw.computedGrounded()}numComputedCollisions(){return this.raw.numComputedCollisions()}computedCollision(t,r){if(this.raw.computedCollision(t,this.rawCharacterCollision)){let e=this.rawCharacterCollision;return r=r??new ce,r.translationApplied=h.fromRaw(e.translationApplied()),r.translationRemaining=h.fromRaw(e.translationRemaining()),r.toi=e.toi(),r.witness1=h.fromRaw(e.worldWitness1()),r.witness2=h.fromRaw(e.worldWitness2()),r.normal1=h.fromRaw(e.worldNormal1()),r.normal2=h.fromRaw(e.worldNormal2()),r.collider=this.colliders.get(e.handle()),r}else return null}}class Jt{constructor(t,r,e,s,a,o,c,p,u,w,_,m,y,P){this.gravity=t,this.integrationParameters=new Jr(r),this.islands=new te(e),this.broadPhase=new re(s),this.narrowPhase=new ee(a),this.bodies=new Wr(o),this.colliders=new se(c),this.impulseJoints=new Xr(p),this.multibodyJoints=new $r(u),this.ccdSolver=new Zr(w),this.queryPipeline=new ae(_),this.physicsPipeline=new ne(m),this.serializationPipeline=new Sr(y),this.debugRenderPipeline=new le(P),this.characterControllers=new Set,this.impulseJoints.finalizeDeserialization(this.bodies),this.bodies.finalizeDeserialization(this.colliders),this.colliders.finalizeDeserialization(this.bodies)}free(){this.integrationParameters.free(),this.islands.free(),this.broadPhase.free(),this.narrowPhase.free(),this.bodies.free(),this.colliders.free(),this.impulseJoints.free(),this.multibodyJoints.free(),this.ccdSolver.free(),this.queryPipeline.free(),this.physicsPipeline.free(),this.serializationPipeline.free(),this.debugRenderPipeline.free(),this.characterControllers.forEach(t=>t.free()),this.integrationParameters=void 0,this.islands=void 0,this.broadPhase=void 0,this.narrowPhase=void 0,this.bodies=void 0,this.colliders=void 0,this.ccdSolver=void 0,this.impulseJoints=void 0,this.multibodyJoints=void 0,this.queryPipeline=void 0,this.physicsPipeline=void 0,this.serializationPipeline=void 0,this.debugRenderPipeline=void 0,this.characterControllers=void 0}static fromRaw(t){return t?new Jt(h.fromRaw(t.takeGravity()),t.takeIntegrationParameters(),t.takeIslandManager(),t.takeBroadPhase(),t.takeNarrowPhase(),t.takeBodies(),t.takeColliders(),t.takeImpulseJoints(),t.takeMultibodyJoints()):null}takeSnapshot(){return this.serializationPipeline.serializeAll(this.gravity,this.integrationParameters,this.islands,this.broadPhase,this.narrowPhase,this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints)}static restoreSnapshot(t){return new Sr().deserializeAll(t)}debugRender(){return this.debugRenderPipeline.render(this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints,this.narrowPhase),new oe(this.debugRenderPipeline.vertices,this.debugRenderPipeline.colors)}step(t,r){this.physicsPipeline.step(this.gravity,this.integrationParameters,this.islands,this.broadPhase,this.narrowPhase,this.bodies,this.colliders,this.impulseJoints,this.multibodyJoints,this.ccdSolver,t,r),this.queryPipeline.update(this.bodies,this.colliders)}propagateModifiedBodyPositionsToColliders(){this.bodies.raw.propagateModifiedBodyPositionsToColliders(this.colliders.raw)}updateSceneQueries(){this.propagateModifiedBodyPositionsToColliders(),this.queryPipeline.update(this.bodies,this.colliders)}get timestep(){return this.integrationParameters.dt}set timestep(t){this.integrationParameters.dt=t}get maxVelocityIterations(){return this.integrationParameters.maxVelocityIterations}set maxVelocityIterations(t){this.integrationParameters.maxVelocityIterations=t}get maxVelocityFrictionIterations(){return this.integrationParameters.maxVelocityFrictionIterations}set maxVelocityFrictionIterations(t){this.integrationParameters.maxVelocityFrictionIterations=t}get maxStabilizationIterations(){return this.integrationParameters.maxStabilizationIterations}set maxStabilizationIterations(t){this.integrationParameters.maxStabilizationIterations=t}createRigidBody(t){return this.bodies.createRigidBody(this.colliders,t)}createCharacterController(t){let r=new he(t,this.integrationParameters,this.bodies,this.colliders,this.queryPipeline);return this.characterControllers.add(r),r}removeCharacterController(t){this.characterControllers.delete(t),t.free()}createCollider(t,r){let e=r?r.handle:void 0;return this.colliders.createCollider(this.bodies,t,e)}createImpulseJoint(t,r,e,s){return this.impulseJoints.createJoint(this.bodies,t,r.handle,e.handle,s)}createMultibodyJoint(t,r,e,s){return this.multibodyJoints.createJoint(t,r.handle,e.handle,s)}getRigidBody(t){return this.bodies.get(t)}getCollider(t){return this.colliders.get(t)}getImpulseJoint(t){return this.impulseJoints.get(t)}getMultibodyJoint(t){return this.multibodyJoints.get(t)}removeRigidBody(t){this.bodies&&this.bodies.remove(t.handle,this.islands,this.colliders,this.impulseJoints,this.multibodyJoints)}removeCollider(t,r){this.colliders&&this.colliders.remove(t.handle,this.islands,this.bodies,r)}removeImpulseJoint(t,r){this.impulseJoints&&this.impulseJoints.remove(t.handle,r)}removeMultibodyJoint(t,r){this.impulseJoints&&this.multibodyJoints.remove(t.handle,r)}forEachCollider(t){this.colliders.forEach(t)}forEachRigidBody(t){this.bodies.forEach(t)}forEachActiveRigidBody(t){this.bodies.forEachActiveRigidBody(this.islands,t)}castRay(t,r,e,s,a,o,c,p){return this.queryPipeline.castRay(this.bodies,this.colliders,t,r,e,s,a,o?o.handle:null,c?c.handle:null,this.colliders.castClosure(p))}castRayAndGetNormal(t,r,e,s,a,o,c,p){return this.queryPipeline.castRayAndGetNormal(this.bodies,this.colliders,t,r,e,s,a,o?o.handle:null,c?c.handle:null,this.colliders.castClosure(p))}intersectionsWithRay(t,r,e,s,a,o,c,p,u){this.queryPipeline.intersectionsWithRay(this.bodies,this.colliders,t,r,e,s,a,o,c?c.handle:null,p?p.handle:null,this.colliders.castClosure(u))}intersectionWithShape(t,r,e,s,a,o,c,p){let u=this.queryPipeline.intersectionWithShape(this.bodies,this.colliders,t,r,e,s,a,o?o.handle:null,c?c.handle:null,this.colliders.castClosure(p));return u!=null?this.colliders.get(u):null}projectPoint(t,r,e,s,a,o,c){return this.queryPipeline.projectPoint(this.bodies,this.colliders,t,r,e,s,a?a.handle:null,o?o.handle:null,this.colliders.castClosure(c))}projectPointAndGetFeature(t,r,e,s,a,o){return this.queryPipeline.projectPointAndGetFeature(this.bodies,this.colliders,t,r,e,s?s.handle:null,a?a.handle:null,this.colliders.castClosure(o))}intersectionsWithPoint(t,r,e,s,a,o,c){this.queryPipeline.intersectionsWithPoint(this.bodies,this.colliders,t,this.colliders.castClosure(r),e,s,a?a.handle:null,o?o.handle:null,this.colliders.castClosure(c))}castShape(t,r,e,s,a,o,c,p,u,w,_){return this.queryPipeline.castShape(this.bodies,this.colliders,t,r,e,s,a,o,c,p,u?u.handle:null,w?w.handle:null,this.colliders.castClosure(_))}intersectionsWithShape(t,r,e,s,a,o,c,p,u){this.queryPipeline.intersectionsWithShape(this.bodies,this.colliders,t,r,e,this.colliders.castClosure(s),a,o,c?c.handle:null,p?p.handle:null,this.colliders.castClosure(u))}collidersWithAabbIntersectingAabb(t,r,e){this.queryPipeline.collidersWithAabbIntersectingAabb(t,r,this.colliders.castClosure(e))}contactsWith(t,r){this.narrowPhase.contactsWith(t.handle,this.colliders.castClosure(r))}intersectionsWith(t,r){this.narrowPhase.intersectionsWith(t.handle,this.colliders.castClosure(r))}contactPair(t,r,e){this.narrowPhase.contactPair(t.handle,r.handle,e)}intersectionPair(t,r){return this.narrowPhase.intersectionPair(t.handle,r.handle)}}var vr;(function(n){n[n.COLLISION_EVENTS=1]="COLLISION_EVENTS",n[n.CONTACT_FORCE_EVENTS=2]="CONTACT_FORCE_EVENTS"})(vr||(vr={}));class de{free(){this.raw&&this.raw.free(),this.raw=void 0}collider1(){return this.raw.collider1()}collider2(){return this.raw.collider2()}totalForce(){return h.fromRaw(this.raw.total_force())}totalForceMagnitude(){return this.raw.total_force_magnitude()}maxForceDirection(){return h.fromRaw(this.raw.max_force_direction())}maxForceMagnitude(){return this.raw.max_force_magnitude()}}class Pc{constructor(t,r){this.raw=r||new ct(t)}free(){this.raw&&this.raw.free(),this.raw=void 0}drainCollisionEvents(t){this.raw.drainCollisionEvents(t)}drainContactForceEvents(t){let r=new de;this.raw.drainContactForceEvents(e=>{r.raw=e,t(r),r.free()})}clear(){this.raw.clear()}}var Rr;(function(n){n[n.FILTER_CONTACT_PAIRS=1]="FILTER_CONTACT_PAIRS",n[n.FILTER_INTERSECTION_PAIRS=2]="FILTER_INTERSECTION_PAIRS"})(Rr||(Rr={}));var Cr;(function(n){n[n.EMPTY=0]="EMPTY",n[n.COMPUTE_IMPULSE=1]="COMPUTE_IMPULSE"})(Cr||(Cr={}));function Mc(){return ye()}const Ar=Object.freeze(Object.defineProperty({__proto__:null,get ActiveCollisionTypes(){return Wt},get ActiveEvents(){return vr},get ActiveHooks(){return Rr},Ball:lr,BroadPhase:re,CCDSolver:Zr,Capsule:pr,CharacterCollision:ce,get CoefficientCombineRule(){return mt},Collider:yr,ColliderDesc:D,ColliderSet:se,ConvexPolygon:Lt,Cuboid:hr,DebugRenderBuffers:oe,DebugRenderPipeline:le,EventQueue:Pc,get FeatureType(){return nt},FixedImpulseJoint:Vr,FixedMultibodyJoint:Kr,HalfSpace:cr,Heightfield:br,ImpulseJoint:$,ImpulseJointSet:Xr,IntegrationParameters:Jr,IslandManager:te,JointData:ft,get JointType(){return H},KinematicCharacterController:he,get MassPropsMode(){return tt},get MotorModel(){return nr},MultibodyJoint:Z,MultibodyJointSet:$r,NarrowPhase:ee,PhysicsPipeline:ne,PointColliderProjection:yt,PointProjection:bt,Polyline:fr,PrismaticImpulseJoint:qr,PrismaticMultibodyJoint:Yr,get QueryFilterFlags(){return gr},QueryPipeline:ae,Ray:Tc,RayColliderIntersection:St,RayColliderToi:Nt,RayIntersection:gt,RevoluteImpulseJoint:Ur,RevoluteMultibodyJoint:Qr,RigidBody:sr,RigidBodyDesc:W,RigidBodySet:Wr,get RigidBodyType(){return B},RotationOps:A,RoundConvexPolygon:Ot,RoundCuboid:dr,RoundTriangle:_r,Segment:ur,SerializationPipeline:Sr,Shape:F,ShapeColliderTOI:vt,ShapeContact:st,ShapeTOI:at,get ShapeType(){return C},get SolverFlags(){return Cr},TempContactForceEvent:de,TempContactManifold:ie,TriMesh:mr,Triangle:wr,UnitImpulseJoint:ar,UnitMultibodyJoint:or,Vector2:Or,VectorOps:h,World:Jt,version:Mc},Symbol.toStringTag,{value:"Module"}));ue=class{constructor(n){this.app=n,this._updateables=[],this._debug=!0,this._bounds={x:0,y:0},this._isRunning=!1}get world(){return this._world}set debug(n){var t,r,e;this._debug=n,this._debug||((t=this._debugContainer)==null||t.parent.removeChild(this._debugContainer),(r=this._debugGraphics)==null||r.destroy({children:!0}),(e=this._debugContainer)==null||e.destroy({children:!0}))}get debug(){return this._debug}async init(n=!1,t=!1,r=!0,e={x:0,y:-9.81}){const s=e||{x:0,y:-9.81};return this._debug=t,this._world=new Ar.World(s),r&&this.createWorldBounds(),n&&this.start(),Promise.resolve()}makeWall(n){const t=Ar.RigidBodyDesc.newStatic().setTranslation(n.position.x,n.position.y).setRotation(n.angle||0),r=this._world.createRigidBody(t),e=Ar.ColliderDesc.cuboid(n.size.x/2,n.size.y/2).setTranslation(0,0),s=this._world.createCollider(e,r);return{body:r,collider:s,definition:n}}createWorldBounds(n=!0){n?this.app.size.x:this._bounds.x,n?this.app.size.y:this._bounds.y,this.makeWall({size:{y:window.innerHeight,x:50},position:{x:0,y:window.innerHeight/2}})}start(){this._isRunning=!0}stop(){this._isRunning=!1}add(...n){n.forEach(t=>{t.hasOwnProperty("body")&&(t.body,this._updateables.push(t))})}remove(...n){n.forEach(t=>{this.world.removeRigidBody(t)})}drawDebug(){(!this._debugGraphics||!this._debugContainer||!this._debugGraphics.parent)&&(this._debugContainer=this.app.make.container(),this.app.add.existing(this._debugContainer),this._debugGraphics=this.app.make.graphics(),this._debugContainer.addChild(this._debugGraphics),this._debugContainer.x=this.app.resizer.getSize().x*.5,this._debugContainer.y=this.app.resizer.getSize().y*.5,this.app.stage.setChildIndex(this._debugContainer,this.app.stage.children.length-1)),this._debugGraphics.clear();for(let n=0;n<this._updateables.length;n++){const t=this._updateables[n],r=this._updateables[n].body,e=(t==null?void 0:t.debugColor)||2737654,s=r.numColliders();for(let a=0;a<s;a++){const o=r.collider(a).vertices();if(o&&o.length>0){this._debugGraphics.lineStyle(1,65280,1),this._debugGraphics.beginFill(e,.5),this._debugGraphics.moveTo(o[0].x,o[0].y);for(let c=1;c<o.length;c++)this._debugGraphics.lineTo(o[c].x,o[c].y);this._debugGraphics.lineTo(o[0].x,o[0].y),this._debugGraphics.endFill()}}}}update(n){this._isRunning&&this.world&&(this._updateables.forEach(t=>{t.update()}),this._debug&&this.drawDebug(),this.world.step())}}})();export{kc as __tla,ue as default};
